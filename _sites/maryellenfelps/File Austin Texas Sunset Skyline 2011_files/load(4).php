mw.loader.implement("ext.eventLogging",function(){(function(mw,$,console){'use strict';function ValidationError(message){this.message=message;}ValidationError.prototype=new Error();var self=mw.eventLog={schemas:{},warn:console&&$.isFunction(console.warn)?$.proxy(console.warn,console):mw.log,declareSchema:function(schemaName,meta){if(self.schemas.hasOwnProperty(schemaName)){self.warn('Clobbering existing "'+schemaName+'" schema');}self.schemas[schemaName]=$.extend(true,{revision:-1,schema:{properties:{}},defaults:{}},self.schemas[schemaName],meta);return self.schemas[schemaName];},isInstanceOf:function(value,type){if(value===undefined||value===null){return false;}switch(type){case'string':return typeof value==='string';case'timestamp':return value instanceof Date||(typeof value==='number'&&value>=0&&value%1===0);case'boolean':return typeof value==='boolean';case'integer':return typeof value==='number'&&value%1===0;case'number':return typeof value==='number'&&isFinite(value);default:
return false;}},isValid:function(event,schemaName){try{self.assertValid(event,schemaName);return true;}catch(e){if(!(e instanceof ValidationError)){throw e;}self.warn(e.message);return false;}},assertValid:function(event,schemaName){var schema=self.schemas[schemaName]||null,props=schema.schema.properties,prop;if($.isEmpty(props)){throw new ValidationError('Unknown schema: '+schemaName);}for(prop in event){if(props[prop]===undefined){throw new ValidationError('Unrecognized property: '+prop);}}$.each(props,function(prop,desc){var val=event[prop];if(val===undefined){if(desc.required){throw new ValidationError('Missing property: '+prop);}return true;}if(!(self.isInstanceOf(val,desc.type))){throw new ValidationError('Wrong type for property: '+prop+' '+val);}if(desc['enum']&&$.inArray(val,desc['enum'])===-1){throw new ValidationError('Value "'+val+'" not in enum '+$.toJSON(desc['enum']));}});return true;},setDefaults:function(schemaName,schemaDefaults){var schema=self.schemas[schemaName];if
(schema===undefined){self.warn('Setting defaults on unknown schema "'+schemaName+'"');schema=self.declareSchema(schemaName);}return $.extend(true,schema.defaults,schemaDefaults);},encapsulate:function(schemaName,event){var schema=self.schemas[schemaName];if(schema===undefined){self.warn('Got event with unknown schema "'+schemaName+'"');schema=self.declareSchema(schemaName);}event=$.extend(true,{},event,schema.defaults);return{event:event,clientValidated:self.isValid(event,schemaName),revision:schema.revision,schema:schemaName,webHost:window.location.hostname,wiki:mw.config.get('wgDBname')};},dispatch:function(data){var beacon=document.createElement('img'),baseUri=mw.config.get('wgEventLoggingBaseUri'),dfd=$.Deferred();if(!baseUri){dfd.rejectWith(data,[data]);return dfd.promise();}$(beacon).on('error',function(){dfd.resolveWith(data,[data]);});beacon.src=baseUri+'?'+encodeURIComponent($.toJSON(data))+';';return dfd.promise();},logEvent:function(schemaName,eventInstance){return self.
dispatch(self.encapsulate(schemaName,eventInstance));}};self.setSchema=self.declareSchema;if(!mw.config.get('wgEventLoggingBaseUri')){self.warn('"$wgEventLoggingBaseUri" is not set.');}}(mediaWiki,jQuery,window.console));;},{},{});mw.loader.implement("ext.navigationTiming",function(){(function(mw,$){'use strict';var timing=window.performance?performance.timing:null;function inSample(){var factor=mw.config.get('wgNavigationTimingSamplingFactor');if(!$.isNumeric(factor)||factor<1){return false;}return Math.floor(Math.random()*factor)===0;}function emitTiming(){var navStart=timing.navigationStart||timing.fetchStart,event={userAgent:navigator.userAgent,isHttps:location.protocol==='https:',isAnon:mw.config.get('wgUserId')===null},page={pageId:mw.config.get('wgArticleId'),revId:mw.config.get('wgCurRevisionId'),action:mw.config.get('wgAction')};if($.isPlainObject(window.Geo)&&typeof Geo.country==='string'){event.originCountry=Geo.country;}$.each({dnsLookup:timing.domainLookupEnd-timing.
domainLookupStart,connecting:timing.connectEnd-timing.connectStart,sending:timing.fetchStart-navStart,waiting:timing.responseStart-timing.requestStart,receiving:timing.responseEnd-timing.responseStart,rendering:timing.loadEventEnd-timing.responseEnd,loading:timing.loadEventStart-navStart},function(k,v){if($.isNumeric(v)&&v>0){event[k]=v;}});if(timing.redirectStart){event.redirectCount=performance.navigation.redirectCount;event.redirecting=timing.redirectEnd-timing.redirectStart;}if(page.revId){$.extend(event,page);}if(mw.mobileFrontend&&mw.config.exists('wgMFMode')){event.mobileMode=mw.config.get('wgMFMode');}mw.eventLog.logEvent('NavigationTiming',event);}if(timing&&inSample()&&!/Firefox\/[78]/.test(navigator.userAgent)){$(window).load(function(){setTimeout(emitTiming,0);});}}(mediaWiki,jQuery));;},{},{});mw.loader.implement("ext.gadget.AjaxQuickDelete",function(){(function($,mw,undefined){'use strict';if(typeof window.AjaxQuickDelete==='object')return;var nsNumber=mw.config.get(
'wgNamespaceNumber'),pageName=mw.config.get('wgPageName'),canonicalNs=mw.config.get('wgCanonicalNamespace'),AQD;function firstItem(o){for(var i in o){if(o.hasOwnProperty(i)){return o[i];}}}AQD=window.AjaxQuickDelete={preinstall:function(){if('Movepage'===mw.config.get('wgCanonicalSpecialPageName')&&Number($('#wpNewTitleNs').val())===6){$('#mw-movepage-table').before('<div class="warningbox">Consider using <i>Move & Replace</i> from the menu on file pages (open with a single click) when moving files to care for global usage and redirects.</span>');}AQD.doNothing=(0===mw.config.get('wgArticleId')||nsNumber<0);if(AQD.doNothing)return;if($.inArray('sysop',mw.config.get('wgUserGroups'))!==-1){AQD.userRights='sysop';}else if($.inArray('filemover',mw.config.get('wgUserGroups'))!==-1){AQD.userRights='filemover';}if((AQD.userRights==='filemover'||AQD.userRights==='sysop')&&nsNumber===6){var $moveLink=$('#ca-move'),$moveLanchor=$moveLink.find('a');AQD.$moveLink=$moveLink=$moveLanchor.length?
$moveLanchor:$moveLink;var _onMoveClick=function(e){e.preventDefault();AQD.moveFile();};$moveLink.text($moveLink.text()+' & Replace').attr('title','Click in order to '+$moveLink.attr('title')+' and replace usage. Default form though new tab.').click(_onMoveClick);}},install:function(){if(AQD.doNothing)return;if(mw.config.get('wgRestrictionEdit')&&mw.config.get('wgRestrictionEdit').length){if($.inArray(mw.config.get('wgRestrictionEdit')[0],mw.config.get('wgUserGroups'))===-1){return;}}$(function(){$(document).triggerHandler('scriptLoaded',['AjaxQuickDelete']);if(nsNumber===14){mw.util.addPortletLink('p-tb','javascript:AjaxQuickDelete.discussCategory();',AQD.i18n.toolboxLinkDiscuss,'t-ajaxquickdiscusscat');}else{mw.util.addPortletLink('p-tb','javascript:AjaxQuickDelete.nominateForDeletion();',AQD.i18n.toolboxLinkDelete,'t-ajaxquickdelete');}if(AQD.$moveLink){AQD.$moveLink.text(AQD.i18n.dropdownMove);if($('#AjaxRenameLink').length){$('#AjaxRenameLink').append(
'<a href="javascript:AjaxQuickDelete.moveFile();">'+AQD.i18n.moveAndReplace+'</a>').append('<a href="javascript:AjaxQuickDelete.declineRequest(\'move\');" class="ajaxDeleteDeclineMove"><sup> '+AQD.i18n.anyDecline+'</sup></a>');}$('.ctdr-btn-convert').click(AQD._convertToDR);$('.ctdr-btn-remove').click(AQD._removeAnyTag);$('.convert-to-dr').show();}if(AQD.userRights==='sysop'&&nsNumber===6){if($('#AjaxDupeProcess').length){$('#AjaxDupeProcess').append($('<a>',{href:'javascript:AjaxQuickDelete.processDupes();',text:"Process Duplicates"})).show();}else{var dupeSection=$('.mw-imagepage-duplicates');if(dupeSection.length){dupeSection.find('li:first').append($('<span>',{style:'display:none',id:'AjaxDupeDestination',text:dupeSection.find('a').attr('title')})).append(' ',$('<sup>').append($('<a>',{href:'javascript:AjaxQuickDelete.processDupes();',text:"[Process Duplicates]",style:'background:#CEEDB4'})));}}}if("1"===mw.user.options.get('gadget-QuickDelete')){mw.loader.using([
'ext.gadget.QuickDelete','user'],function(){AQD.doInsertTagButtons();});}});},initialize:function(){pageName=mw.config.get('wgPageName');this.tasks=[];this.destination=undefined;this.details=undefined;},fileExists:function(){this.i18n.moveDestination=this.i18n.moveOtherDestination;this.moveFile();},moveFile:function(){this.initialize();this.showProgress();if($('#AjaxRenameLink').length){this.possibleDestination=$('#AjaxRenameDestination').text();this.possibleReason=this.cleanReason($('#AjaxRenameReason').text());}if($('#globalusage').length||!$('#mw-imagepage-nolinkstoimage').length)this.inUse=true;this.addTask('getMoveToken');this.addTask('promptForMoveTarget');this.addTask('getMoveToken');this.addTask('doesFileExist');this.fileNameExistsCB='fileExists';this.addTask('movePage');this.addTask('removeTemplate');this.addTask('queryRedirects');this.addTask('replaceUsage');this.addTask('reloadPage');this.nextTask();},promptForMoveTarget:function(){this.showProgress();this.prompt([{message:
this.i18n.moveDestination,prefill:this.cleanFileName(this.possibleDestination||pageName),returnvalue:'destination',cleanUp:true,noEmpty:true},{message:this.i18n.reasonForMove,prefill:$.trim((this.reason||this.possibleReason||'').replace(/'{2,}/g,'').replace(/\s{2,}/g,'')),returnvalue:'reason',cleanUp:true,noEmpty:false},{message:this.i18n.leaveRedirect,prefill:true,returnvalue:'wpLeaveRedirect',cleanUp:false,noEmpty:false,type:'checkbox'},{message:this.i18n.useCORSForReplace,prefill:!window.aqdCORSOptOut,returnvalue:'replaceUsingCORS',cleanUp:false,noEmpty:false,type:'checkbox'}],this.i18n.movingFile);if(this.inUse||this.userRights==='filemover')$('#AjaxQuestion2').attr('disabled',true);},declineRequest:function(reason){this.initialize();this.addTask('getMoveToken');this.addTask('removeTemplate');this.addTask('reloadPage');switch(reason){case'move':reason='No valid reason stated, see the [[COM:MOVE|rename guidelines]]';break;}this.prompt([{message:'',prefill:reason||this.declineReason
||'',returnvalue:'declineReason',cleanUp:false,noEmpty:true,byteLimit:250}],this.i18n.declineRequest);},insertTagOnPage:function(tag,img_summary,talk_tag,talk_summary,prompt_text,page){this.initialize();this.pageName=(page===undefined)?pageName.replace(/_/g,' '):page.replace(/_/g,' ');this.tag=tag+'\n';this.img_summary=img_summary;this.addTask('findCreator');this.addTask('prependTemplate');if(this.isMobile()){if(/(?:copyvio|nsd|npd|nld)/.test(tag))this.addTask('listMobileUploadSpeedy');}if(talk_tag&&talk_tag!=="undefined"){this.talk_tag=talk_tag.replace('%FILE%',this.pageName);this.talk_summary=talk_summary.replace('%FILE%','[[:'+this.pageName+']]');this.usersNeeded=true;this.addTask('notifyUploaders');}this.addTask('reloadPage');if(tag.indexOf("%PARAMETER%")!==-1){this.prompt([{message:'',prefill:'',returnvalue:'reason',cleanUp:true,noEmpty:true,minLength:1}],prompt_text||this.i18n.reasonForDeletion);}else{this.nextTask();}},discussCategory:function(){this.initialize();this.pageName=
pageName.replace(/_/g,' ');this.startDate=new Date();this.tag='{'+'{subst:cfd}}';this.img_summary='This category needs discussion';this.talk_tag='{'+'{subst:cdw|'+pageName+'}}';this.talk_summary="[[:"+pageName+"]] needs discussion";this.subpage_summary='Starting category discussion';this.requestPage='Commons:Categories for discussion/'+this.formatDate("YYYY/MM/")+pageName;this.dailyLogPage='Commons:Categories for discussion/'+this.formatDate("YYYY/MM");this.addTask('findCreator');this.addTask('notifyUploaders');this.addTask('prependTemplate');this.addTask('createRequestSubpage');this.addTask('listRequestSubpage');this.addTask('reloadPage');var lazyLoadNode=this.createLazyLoadNode(this.i18n.moreInformation,'MediaWiki:Gadget-AjaxQuickDelete.js/DiscussCategoryInfo','#AjaxQuickDeleteCatInfo');this.prompt([{message:'',prefill:'',returnvalue:'reason',cleanUp:true,appendNode:lazyLoadNode,noEmpty:true,parseReason:true}],this.i18n.reasonForDiscussion);},nominateForDeletion:function(page){var o=
this;this.initialize();mw.loader.using(['jquery.byteLength','jquery.ui.dialog'],function(){o.pageName=(page===undefined)?pageName.replace(/_/g,' '):page.replace(/_/g,' ');o.startDate=new Date();var requestPage=o.pageName;while($.byteLength(requestPage)+$.byteLength(o.requestPagePrefix.replace(/^.+?\:/,''))>=255){requestPage=$.trim(requestPage.slice(0,requestPage.length-1));}o.requestPage=o.requestPagePrefix+requestPage;o.dailyLogPage=o.requestPagePrefix+o.formatDate("YYYY/MM/DD");o.tag="{{delete|reason=%PARAMETER%|subpage="+requestPage+o.formatDate("|year=YYYY|month=MON|day=DAY}}\n");switch(nsNumber){case 8:o.tag='/*'+o.tag+'*/';break;case 10:case 100:case 106:o.tag='<noinclude>'+o.tag+'</noinclude>';break;case 828:o.tag='\n--[=[ '+o.tag+' ]=]\n';}o.img_summary='Nominating for deletion';o.talk_tag='{'+'{subst:idw|'+requestPage+'}}';o.talk_summary="[[:"+o.pageName+"]] has been nominated for deletion";o.subpage_summary='Starting deletion request';o.addTask('findCreator');o.addTask(
'prependTemplate');o.addTask('createRequestSubpage');o.addTask('listRequestSubpage');o.addTask('notifyUploaders');if(o.isMobile()){o.addTask('listMobileUpload');}o.addTask('reloadPage');var lazyLoadNode=o.createLazyLoadNode(o.i18n.moreInformation,'MediaWiki:Gadget-AjaxQuickDelete.js/DeleteInfo','#AjaxQuickDeleteDeleteInfo');o.prevDRNode=$('<ul>').attr('id','AjaxDeletePrevRequests');o.secureCall('checkForFormerDR');var toAppend=$('<div>').append($('<div>').attr('class','ajaxDeleteLazyLoad').css({'max-height':Math.max(Math.round($(window).height()/2)-250,100),'min-height':0,overflow:'auto'}).append(o.prevDRNode),'<br/>',lazyLoadNode);o.prompt([{message:'',prefill:o.reason||'',returnvalue:'reason',cleanUp:true,noEmpty:true,appendNode:toAppend,parseReason:true}],o.i18n.reasonForDeletion);});},checkForFormerDR:function(){if(nsNumber%2===0){this.talkPage=mw.config.get('wgFormattedNamespaces')[nsNumber+1]+':'+this.pageName.replace(canonicalNs+':','');this.queryAPI({action:'query',prop:
'templates',titles:this.talkPage,tltemplates:'Template:Kept',tllimit:1},'formerDRTalk');}this.queryAPI({action:'query',list:'backlinks',bltitle:this.pageName,blnamespace:4,blfilterredir:'nonredirects',bllimit:500},'formerDRRequestpage');},formerDRTalk:function(r){var pgs=r.query.pages;$.each(pgs,function(id,pg){if($.isArray(pg.templates)){$('<li>').append($('<a>',{text:AQD.i18n.keptAfterDR,href:mw.util.wikiGetlink(AQD.talkPage)})).prependTo(AQD.prevDRNode);}else if(undefined===pg.missing){$('<li>').append($('<a>',{text:AQD.i18n.hasTalkpage,href:mw.util.wikiGetlink(AQD.talkPage)})).appendTo(AQD.prevDRNode);}});},formerDRRequestpage:function(r){var bls=r.query.backlinks;var _addItem=function(t,m,bl){$('<li>').append($('<a>',{text:t.replace('%PAGE%',bl.title),href:mw.util.wikiGetlink(bl.title)}))[m](AQD.prevDRNode);};$.each(bls,function(i,bl){if(this.requestPage===bl.title){_addItem(AQD.i18n.mentionedInDR,'prependTo',bl);}else if(/^Commons:Deletion requests\/\D/.test(bl.title)){_addItem(
AQD.i18n.mentionedInDR,'appendTo',bl);}else if(/^Commons:Village pump\//.test(bl.title)){_addItem(AQD.i18n.mentionedInForum,'appendTo',bl);}});},renderNode:function($node,remotecontent,selector){if(selector)selector=' '+selector;$node.load(mw.config.get('wgScript')+'?'+$.param({'action':'render','title':remotecontent,'uselang':mw.config.get('wgUserLanguage')})+(selector||''),function(){$node.find('a').each(function(i,el){var $el=$(el);$el.attr('href',$el.attr('href').replace('MediaWiki:Anoneditwarning',mw.config.get('wgPageName')));});});return $node;},createLazyLoadNode:function(label,page,selector){return $('<div>',{style:'min-height:40px;'}).append($('<a>',{'href':'#','text':label}).click(function(e){e.preventDefault();var $content=$(this).parent().find('.ajaxDeleteLazyLoad');var $contentInner=$content.find('.ajax-quick-delete-loading');if($contentInner.length){AQD.renderNode($content,$contentInner.data('aqdPage'),selector);}$content.toggle('fast');}),$('<div>',{'class':
'ajaxDeleteLazyLoad','style':'display:none;'}).append($('<span>',{'class':'ajax-quick-delete-loading','text':this.i18n.loading}).data('aqdPage',page)));},extractFromHTML:function(DOMElement){var $el=$(DOMElement);this.templateRegExp=$el.parent().find('.ctdr-regex').text();var m=this.templateRegExp.match(/^\/(.+)\/(i)?$/);if(!m||!m[1]){var err=new Error('The template does not expose a valid regular expression for {{X-To-DR}}. Go the the template and fix it there.');this.fail(err);throw err;}this.templateRegExp=new RegExp(m[1],m[2]);var template=$el.parent().find('.ctdr-template-name').text();this.reason="This file was initially tagged by %USER%"+(template?(" as '''"+template+"'''"):"");this.declineReason=$el.parent().find('.ctdr-template-decline-reason').text();},removeProgress:function(){this.showProgress();return this.nextTask();},_removeAnyTag:function(e){AQD.extractFromHTML(this);AQD.removeAnyTag();return false;},removeAnyTag:function(){this.initialize();this.addTask(
'declineRequest');this.nextTask();},_convertToDR:function(e){AQD.extractFromHTML(this);AQD.convertToDR();return false;},convertToDR:function(){this.initialize();this.addTask('findTemplateAdder');this.addTask('getMoveToken');this.addTask('removeTemplate');this.addTask('removeProgress');this.addTask('nominateForDeletion');this.declineReason="This file does not qualify for [[COM:SPEEDY|speedy-deletion]] and a regular deletion request will be started.";$('.convert-to-dr').hide();this.nextTask();},findTemplateAdder:function(){var query={action:'query',prop:'revisions',rvprop:'user|content',titles:pageName.replace(/_/g,' '),rvlimit:50};this.queryAPI(query,'findTemplateAdderCB');},findTemplateAdderCB:function(result){var m,reason,user,template;$.each(result.query.pages,function(id,pg){$.each(pg.revisions,function(iRv,rv){m=rv['*'].match(AQD.templateRegExp);if(m){user=rv.user;if(m.length>1&&!template)template=m[1];if(m.length>2&&!reason)reason=m[2];}else{return false;}});});if(!user)throw new Error
("Unable to find the person who added the template. This can occur if the template was already removed, the page is deleted or a redirect to the template is used. In this case you must add the redirect to the RegExp of the target template.");this.reason=this.reason.replace('%USER%',"[[User:"+user+"|"+user+"]]");if(template)this.reason+=" ("+template+")";if(reason)this.reason+=" and the most recent rationale was: <tt>"+reason+"</tt>";this.nextTask();},processDupes:function(){this.initialize();if($('#globalusage').length||!$('#mw-imagepage-nolinkstoimage').length)this.inUse=true;this.addTask('getDupeDetails');this.addTask('compareDetails');this.addTask('mergeDescriptions');this.addTask('saveDescription');this.addTask('replaceUsage');this.addTask('queryRedirects');this.addTask('deletePage');this.addTask('redirectPage');this.addTask('reloadPage');this.destination=$('#AjaxDupeDestination').text();this.nextTask();},getDupeDetails:function(){var query={action:'query',prop:
'imageinfo|revisions|info',rvprop:'content|timestamp',intoken:'edit|delete',inprop:'watched',iiprop:'size|sha1|url',iiurlwidth:365,titles:pageName.replace(/_/g,' ')+'|'+this.destination};this.queryAPI(query,'getDupeDetailsCB');this.showProgress('Fetching details');},getDupeDetailsCB:function(result){var pages,id,pg,ii,n;pages=result.query.pages;this.details=[];for(id in pages){if(pages.hasOwnProperty(id)){pg=pages[id];if(!pg.imageinfo){this.disableReport=true;if($.trim(pg.title)==='{{{1}}}'){throw new Error("Error in the duplicate-template, check your language version! (pg.imageinfo is undefined)");}else{throw new Error("Retrieving information about "+pg.title+" failed. It is possible that it is deleted, the last revision is corrupt or the file is a redirect. (pg.imageinfo is undefined)");}}ii=pg.imageinfo[0];n={title:pg.title,size:ii.size,width:ii.width,height:ii.height,thumburl:ii.thumburl,thumbwidth:ii.thumbwidth,thumbheight:ii.thumbheight,descriptionurl:ii.descriptionurl,sha1:ii.
sha1,content:pg.revisions[0]['*'],starttimestamp:pg.starttimestamp};this.details.push(n);this.edittoken=pg.edittoken;this.deletetoken=pg.deletetoken;if(undefined!==pg.watched){this.pageWasWatched=true;}}}if(this.details[0].title!==pageName.replace(/_/g,' '))this.details.reverse();this.nextTask();},prependTemplate:function(){var page={title:this.pageName,text:this.tag,editType:'prependtext',minor:false};if(window.AjaxDeleteWatchFile)page.watchlist='watch';this.showProgress(this.i18n.addingAnyTemplate);this.savePage(page,this.img_summary,'nextTask');},createRequestSubpage:function(){this.templateAdded=true;var page={};page.title=this.requestPage;page.text="\n=== [[:"+this.pageName+"]] ===\n"+this.reason+" ~~"+"~~\n";page.watchlist='watch';page.editType='appendtext';if(this.isMobile()){page.text+="\n<noinclude>[[Category:MobileUpload-related deletion requests]]</noinclude>";}this.showProgress(this.i18n.creatingNomination);this.savePage(page,this.subpage_summary,'nextTask');},
listRequestSubpage:function(){var page={};page.title=this.dailyLogPage;page.text="\n{{"+this.requestPage+"}}\n";page.watchlist='nochange';page.editType='appendtext';this.showProgress(this.i18n.listingNomination);this.savePage(page,"Listing [["+this.requestPage+"]]",'nextTask');},isMobile:function(){var isMobile=false,cats=mw.config.get('wgCategories');for(var i=0,len=cats.length;i<len;i++){isMobile=isMobile||/^Uploaded with Mobile/.test(cats[i]);}return isMobile;},listMobileUpload:function(){var page={title:'Commons:Deletion requests/mobile tracking',text:'\n{{'+this.requestPage+'}}\n',watchlist:'nochange',editType:'appendtext'};this.showProgress("Listing mobile upload");this.savePage(page,"Listing [["+this.requestPage+"]]",'nextTask');},listMobileUploadSpeedy:function(){var page={title:'Commons:Mobile app/deletion request tracking',text:'\n# [[:'+this.pageName+']]',watchlist:'nochange',editType:'appendtext'};this.showProgress("Listing mobile upload");this.savePage(page,"Listing [["+
this.pageName+"]]",'nextTask');},notifyUploaders:function(){this.uploadersToNotify=0;for(var user in this.uploaders){if(this.uploaders.hasOwnProperty(user)){if(user===mw.config.get('wgUserName'))continue;var page={title:this.userTalkPrefix+user,text:'\n'+this.talk_tag+' ~~'+'~~\n',editType:'appendtext',redirect:true,minor:false};if(window.AjaxDeleteWatchUserTalk)page.watchlist='watch';this.savePage(page,this.talk_summary,'uploaderNotified');this.showProgress(this.i18n.notifyingUploader.replace('%USER%',user));this.uploadersToNotify++;}}if(this.uploadersToNotify===0)this.nextTask();},uploaderNotified:function(){this.uploadersToNotify--;if(this.uploadersToNotify===0)this.nextTask();},findCreator:function(){var query;if(nsNumber===6){query={action:'query',prop:'imageinfo|revisions|info',rvprop:'content|timestamp|user',rvdir:'newer',rvlimit:1,intoken:'edit',iiprop:'user|sha1|comment',iilimit:50,titles:this.pageName};}else{query={action:'query',prop:'info|revisions',rvprop:'user|timestamp',
rvlimit:1,rvdir:'newer',intoken:'edit',titles:this.pageName};}this.showProgress(this.i18n.preparingToEdit);this.queryAPI(query,'findCreatorCB');},findCreatorCB:function(result){this.uploaders={};var pages=result.query.pages,pg=firstItem(pages),rv;this.edittoken=pg.edittoken;if(!pg.revisions){this.disableReport=true;throw new Error('The page you are attempting to add a tag to was deleted or moved. Unable to retrieve the content.');}rv=pg.revisions[0];if(nsNumber!==6||!pg.imageinfo){this.pageCreator=rv.user;this.starttimestamp=pg.starttimestamp;this.timestamp=rv.timestamp;if(undefined!==this.pageCreator){this.uploaders[this.pageCreator]=true;}}else{var info=pg.imageinfo;var content=rv['*'];var seenHashes={};for(var i=info.length-1;i>=0;i--){var iii=info[i];if(iii.sha1&&seenHashes[iii.sha1])continue;seenHashes[iii.sha1]=true;if(mw.libs.commons.isSmallChangesBot(iii.user))continue;var match=mw.libs.commons.getUploadBotUser(iii.user,content,iii.comment,rv.user);if(match){this.uploaders[
match]=true;}}}this.nextTask();},getMoveToken:function(){var query={action:'query',prop:'info|revisions|imageinfo',rvprop:'content|timestamp',iiprop:'mime|mediatype',intoken:'edit|move',inprop:'watched',titles:pageName.replace(/_/g,' ')};this.showProgress(this.i18n.preparingToEdit);this.queryAPI(query,'getMoveTokenCB');},getMoveTokenCB:function(result){var pages=result.query.pages,pg=firstItem(pages);if(!pg.revisions){this.disableReport=true;throw new Error("The page you are attempting to modify or move is corrupted, was deleted or moved: Unable to retrieve history and contents.");}$.extend(this,{edittoken:pg.edittoken,movetoken:pg.movetoken,pageContent:pg.revisions[0]['*'],starttimestamp:pg.starttimestamp,timestamp:pg.revisions[0].timestamp});if(undefined!==pg.watched){this.pageWasWatched=true;}var ii=pg.imageinfo;if(ii&&ii.length&&ii[0].mime){var mime=ii[0].mime,mediaType=ii[0].mediatype;this.mimeFileExtension=mime.toLowerCase().replace('image/jpeg','jpg').replace(
/image\/(?:x\-|vnd\.)?(png|gif|xcf|djvu|svg|tiff)(?:\+xml)?/,'$1').replace(/application\/(ogg|pdf)/,'$1').replace(/video\/(webm)/,'$1').replace('audio\/midi','mid');if(this.mimeFileExtension.length>5){this.mimeFileExtension='';}else if('ogg'===this.mimeFileExtension){switch(mediaType){case'AUDIO':this.mimeFileExtension='oga';break;case'VIDEO':this.mimeFileExtension='ogv';break;}}}this.nextTask();},doesFileExist:function(){var toCheck=this.cleanFileName(this.destination);var query={'action':'query','prop':'info|revisions','titles':toCheck,'rvprop':'content','rvlimit':2};this.showProgress(this.i18n.checkFileExists);this.queryAPI(query,'doesFileExistCB');},doesFileExistCB:function(result){if(!result||!result.query||!result.query.pages)throw new Error('Checking file name: result.query.pages is undefined.');var exists=true,pg=firstItem(result.query.pages),getRedirRegExp=function(title){title=title.replace(/^(File|Image):/,'').replace(/_/g,' ');return new RegExp(
'^\\s*#REDIRECT\\s*\\[\\[File\\:['+$.escapeRE(title.charAt(0).toUpperCase())+$.escapeRE(title.charAt(0).toLowerCase())+']'+$.escapeRE(title.slice(1)).replace(/ /g,'[ _]')+'\\s*\\]\\]','');};if(undefined!==pg.missing){exists=false;}else if(pg.revisions.length===1&&getRedirRegExp(pageName).test(pg.revisions[0]['*'].replace('Image:','File:'))){exists=false;}if(exists){if(this.fileNameExistsCB)this[this.fileNameExistsCB](pg.title.replace(/^File:/,''));return;}this.nextTask();},removeTemplate:function(){var page={};this.replaceWith=(this.replaceWith||(this.templateRegExp?'':'$1$2'));page.title=(this.destination||pageName);page.text=$.trim(this.pageContent.replace((this.templateRegExp||/(?:([^\=])\n)?\{\{(?:rename|rename media|move)\|.*?\}\}(?:\n([^\=]))?/i),this.replaceWith))||"{{subst:nld}}";page.editType='text';page.starttimestamp=this.starttimestamp;page.timestamp=this.timestamp;page.watchlist='nochange';this.showProgress(this.i18n.removingTemplate);this.savePage(page,(this.declineReason
||"Removing template; rename done"),'nextTask');},replaceUsage:function(){this.showProgress(this.i18n.replacingUsage);if(!this.inUse)return this.nextTask();var reasonShort='[[COM:Duplicate|Duplicate]]:';if(!this.details){AQD.reason=AQD.reason.replace(/\[\[Commons:File[_ ]renaming[^\[\]]*\]\]:? ?/i,'');reasonShort='[[COM:FR|File renamed]]:';}mw.loader.using('ext.gadget.GlobalReplace',function(){if(AQD.replaceUsingCORS){mw.libs.globalReplace(pageName,AQD.destination,reasonShort,AQD.reason).fail(function(err){throw new Error(err);}).done(function(r){AQD.nextTask();}).progress(function(r){AQD.showProgress(r);});}else{mw.libs.globalReplaceDelinker(pageName,AQD.destination,reasonShort+' '+AQD.reason,function(){AQD.nextTask();},function(err){throw new Error(err);});}});},redirectPage:function(){var page={title:pageName,text:'#REDIRECT [['+this.destination+']]',editType:'text',watchlist:AQD.pageWasWatched?'watch':'nochange'};this.showProgress(this.i18n.redirectingFile);this.savePage(page,
'Redirecting to duplicate file','nextTask');},saveDescription:function(){var page={title:this.destination,text:this.newPageText,editType:'text',watchlist:AQD.pageWasWatched?'watch':'nochange'};this.showProgress(this.i18n.savingDescription);this.savePage(page,'Merging details from duplicate ([['+pageName+']])','nextTask');},queryRedirects:function(){this.queryAPI({action:'query',generator:'imageusage',giufilterredir:'redirects',prop:'revisions',rvprop:'content',giutitle:pageName.replace(/_/g,' ')},'updateRedirects');this.showProgress("What-links-here");},updateRedirects:function(result){AQD.redirectsToUpdate=0;if(!result.query)return AQD.nextTask();$.each(result.query.pages,function(id,pg){var rv=pg.revisions[0];if(!rv||!rv['*'])return;var page={title:pg.title,text:rv['*'].replace(/\#\s*REDIRECT\s*\[\[.+/,'#REDIRECT [['+AQD.destination+']]'),editType:'text',watchlist:'nochange'};AQD.savePage(page,'Updating redirect while processing [['+pageName.replace(/_/g,' ')+']]','updateRedirectsCB'
);AQD.redirectsToUpdate++;});this.showProgress("Updating redirects");if(0===AQD.redirectsToUpdate)AQD.nextTask();},updateRedirectsCB:function(){AQD.redirectsToUpdate--;if(0===AQD.redirectsToUpdate)AQD.nextTask();},prompt:function(questions,title,width){var o=this;var dlgButtons={};dlgButtons[this.i18n.submitButtonLabel]=function(){$.each(questions,function(i,v){var response=$('#AjaxQuestion'+i).val();if(v.type==='checkbox')response=$('#AjaxQuestion'+i)[0].checked;if(v.cleanUp){if(v.returnvalue==='reason')response=AQD.cleanReason(response);if(v.returnvalue==='destination')response=AQD.cleanFileName(response);}AQD[v.returnvalue]=response;if(v.returnvalue==='reason'&&AQD.tag){AQD.tag=AQD.tag.replace('%PARAMETER%',response);if(AQD.talk_tag)AQD.talk_tag=AQD.talk_tag.replace('%PARAMETER%',response);AQD.img_summary=AQD.img_summary.replace('%PARAMETER%',response);AQD.img_summary=AQD.img_summary.replace('%PARAMETER-LINKED%','[[:'+response+']]');}});$(this).dialog('close');AQD.nextTask();};
dlgButtons[this.i18n.cancelButtonLabel]=function(){$(this).dialog('close');};var $submitButton,$cancelButton;var $AjaxDeleteContainer=$('<div>',{id:'AjaxDeleteContainer'});var _convertToTextarea=function(e){var $el=$(this),$input=$el.data('toConvert'),$tarea=$('<textarea>',{id:$input.attr('id'),style:'height:10em; width:98%; display:none;'});$el.unbind();$el.fadeOut();$input.parent().prepend($tarea.data('v',$input.data('v')).data('parserResultNode',$input.data('parserResultNode')).val($input.val()).keyup(_parseReason).bind('keyup input',_validateInput));$tarea.slideDown();$input.remove();};var _parseReason=function(event){var $el=$(this),$parserResultNode=$el.data('parserResultNode');if(!$parserResultNode)return;$parserResultNode.css('color','#877');var _gotParsedText=function(r){try{$parserResultNode.html(r);$parserResultNode.css('color','#000');}catch(ex){}};mw.loader.using(['ext.gadget.libAPI'],function(){mw.libs.commons.api.parse($el.val(),mw.config.get('wgUserLanguage'),pageName,
_gotParsedText);});};var _validateInput=function(event){var $el=$(this),v=$el.data('v');if(v.noEmpty){if($.trim($el.val()).length<(v.minLength||10)){$submitButton.button('option','disabled',true);}else{$submitButton.button('option','disabled',false);}}if(('TEXTAREA'!==$el.prop('nodeName'))&&(event.which===13)&&(v.enterToSubmit!==false)&&!$submitButton.button('option','disabled'))$submitButton.click();};$.each(questions,function(i,v){v.type=(v.type||'text');if(v.type==='textarea'){$AjaxDeleteContainer.append('<label for="AjaxQuestion'+i+'">'+v.message+'</label>').append('<textarea rows=20 id="AjaxQuestion'+i+'">');}else{$AjaxDeleteContainer.append('<label for="AjaxQuestion'+i+'">'+v.message+'</label>').append('<input type="'+v.type+'" id="AjaxQuestion'+i+'" style="width:97%;">');}var curQuestion=$AjaxDeleteContainer.find('#AjaxQuestion'+i);if(v.parseReason){var $parserResultNode=$('<div>',{id:'AjaxQuestionParse'+i,html:'&nbsp;'});$AjaxDeleteContainer.append(
'<br><label for="AjaxQuestionParse'+i+'">'+o.i18n.previewLabel+'</label>').append($parserResultNode);curQuestion.data('parserResultNode',$parserResultNode).keyup(_parseReason);}if(v.type!=='textarea')$AjaxDeleteContainer.append('<br><br>');if(v.appendNode){$AjaxDeleteContainer.append(v.appendNode);}if('number'===typeof v.byteLimit){mw.loader.using('jquery.byteLimit',function(){curQuestion.byteLimit(v.byteLimit);});}curQuestion.data('v',v);curQuestion.bind('keyup input',_validateInput);curQuestion.val(v.prefill);if(v.type==='checkbox')curQuestion.attr('checked',v.prefill).attr('style','margin-left: 5px');});if(mw.user.anonymous()){AQD.renderNode($('<div>',{id:'ajaxDeleteAnonwarning'}),'MediaWiki:Anoneditwarning').appendTo($AjaxDeleteContainer);}var $dialog=$('<div></div>').append($AjaxDeleteContainer).dialog({width:(width||600),modal:true,title:title,dialogClass:"wikiEditor-toolbar-dialog",close:function(){$(this).dialog("destroy");$(this).remove();},buttons:dlgButtons,open:function(){
var $buttons=$(this).parent().find('.ui-dialog-buttonpane button');$submitButton=$buttons.eq(0).specialButton('proceed');$cancelButton=$buttons.eq(1).specialButton('cancel');}});$.each(questions,function(i,v){var curQuestion=$AjaxDeleteContainer.find('#AjaxQuestion'+i);curQuestion.keyup();if(v.type==='text'){var $q=curQuestion.wrap('<div style="position:relative;">').parent();var $i=$.createIcon('ui-icon-arrow-4-diag').attr('title','Expand to textarea');$('<span>',{'class':'ajaxTextareaConverter'}).append($i).appendTo($q).data('toConvert',curQuestion).click(_convertToTextarea);}});$('#AjaxQuestion0').focus().select();},compareDetails:function(){var d=this.details[0],f=this.details[1],$submitButton,$inverseButton,$cancelButton,$swapButton,$overlayButton;if(d.sha1===f.sha1){this.exactDupes=true;this.nextTask();return;}var $imgD=$('<div>').append($('<img>',{src:d.thumburl,height:d.thumbheight,width:d.thumbwidth}),$('<div>',{id:'AjaxDeleteImgDel',html:Math.round(d.size/1000)+' KiB <br>'+d.
width+'×'+d.height+'<br>'}).append($('<a>',{href:d.descriptionurl,text:d.title,target:'_blank'})));var $imgF=$('<div>').append($('<img>',{src:f.thumburl,height:f.thumbheight,width:f.thumbwidth}),$('<div>',{id:'AjaxDeleteImgKeep',html:Math.round(f.size/1000)+' KiB <br>'+f.width+'×'+f.height+'<br>'}).append($('<a>',{href:f.descriptionurl,text:f.title,target:'_blank'})));var dlgButtons={};dlgButtons[this.i18n.submitButtonLabel]=function(){$(this).dialog("close");AQD.nextTask();};dlgButtons[this.i18n.inverseButtonLabel]=function(){$(this).dialog("close");AQD.destination=pageName.replace(/_/g,' ');pageName=f.title;AQD.details.reverse();AQD.inUse=true;setTimeout(function(){AQD.compareDetails();},10);};dlgButtons[this.i18n.swapImagesButtonLabel]=function(){if($imgD[0].nextSibling===$imgF[0]){$imgD.before($imgF);}else{$imgF.before($imgD);}};var $fClone;dlgButtons[this.i18n.overlayButtonLabel]=function(){if($fClone){$fClone.remove();$fClone=0;}else{$fClone=$imgF.clone().appendTo($imgF.parent(
));$fClone.css('position','absolute');var pos=$imgD.position();$fClone.css('top',pos.top-1);$fClone.css('left',pos.left-1);$fClone.fadeTo(0,0.65);mw.loader.using(['jquery.ui.draggable','jquery.ui.resizable'],function(){$fClone.css('background','rgba(200, 200, 200, 0.5)').css('width','auto').css('border','1px solid #0c9').draggable();$fClone.find('img').resizable();$fClone.children('div').fadeTo(0,0.7);});}};this.showProgress();var $AjaxDupeContainer=$('<div>',{id:'AjaxDupeContainer'}).append($imgD,$imgF);var $dialog=$('<div></div>').append($AjaxDupeContainer).dialog({width:800,modal:true,title:this.i18n.compareDetails,draggable:false,dialogClass:"wikiEditor-toolbar-dialog",close:function(){$(this).dialog("destroy");$(this).remove();},buttons:dlgButtons,open:function(){var $buttons=$(this).parent().find('.ui-dialog-buttonpane button');$submitButton=$buttons.eq(0).specialButton('proceed');$inverseButton=$buttons.eq(1).button({icons:{primary:'ui-icon-refresh'}});$swapButton=$buttons.eq(2)
.button({icons:{primary:'ui-icon-transfer-e-w'}});$overlayButton=$buttons.eq(3).button({icons:{primary:'ui-icon-newwin'}});$swapButton.css('float',(('left'===$swapButton.css('float'))?'right':'left'));$overlayButton.css('float',(('left'===$overlayButton.css('float'))?'right':'left'));}});mw.loader.load(['ext.gadget.GlobalReplace','ext.gadget.libWikiDOM']);},mergeDescriptions:function(){var newPageText=this.details[1].content;mw.loader.using(['ext.gadget.GlobalReplace','ext.gadget.libWikiDOM'],function(){newPageText=mw.libs.wikiDOM.nowikiEscaper(newPageText).doCleanUp();AQD.showProgress();AQD.prompt([{message:'',prefill:AQD.details[0].content,returnvalue:'discard',cleanUp:false,noEmpty:false,type:'textarea',enterToSubmit:false},{message:'',prefill:newPageText,returnvalue:'newPageText',cleanUp:false,noEmpty:false,type:'textarea',enterToSubmit:false},{message:AQD.i18n.useCORSForReplace,prefill:!window.aqdCORSOptOut,returnvalue:'replaceUsingCORS',cleanUp:false,noEmpty:false,type:'checkbox'
}],AQD.i18n.mergeDescription,800);AQD.destination=AQD.details[1].title;AQD.reason='Exact or scaled-down duplicate: [[:'+AQD.destination+']]';});},correctMIME:function(fn){var f=fn||this.destination;if(this.mimeFileExtension){f=f.replace(/\.\w{2,5}$/,'.'+this.mimeFileExtension);}if(!fn){this.destination=f;return this.nextTask();}else{return f;}},cleanFileName:function(uncleanName,ignoreMIME){uncleanName=uncleanName.replace(/^(?:Image|File):/i,'');uncleanName=uncleanName.replace(/\.\w{2,5}$/,function($e){return $e.toLowerCase();});uncleanName=uncleanName.replace(/\.jpe*g$/,'.jpg');uncleanName=uncleanName.replace(/~{3,}/g,'').replace(/[\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]/,' ').replace(/\s+|_/g,' ').replace(/[\x00-\x1f\x7f]/g,'').replace(/%([0-9A-Fa-f]{2})/g,'% $1').replace(/&(([A-Za-z0-9\x80-\xff]+|#[0-9]+|#x[0-9A-Fa-f]+);)/g,'& $1').replace(/[:\/|#]/g,'-').replace(/[\]\}>]/g,')').replace(/[\[\{<]/g,'(');var currentExt=pageName.toLowerCase().replace(
/.*?\.(\w{2,5})$/,'$1').replace('jpeg','jpg');if(!ignoreMIME)currentExt=this.mimeFileExtension||currentExt;var reCurrentExt=new RegExp('\\.'+$.escapeRE(currentExt)+'$','i'),reOldExt=new RegExp('\\.'+$.escapeRE(uncleanName.replace(/.*?\.(\w{2,5})$/,'$1'))+'$','i');if(!reCurrentExt.test(uncleanName.toLowerCase())){uncleanName=uncleanName.replace(reOldExt,'.'+currentExt);if(!reCurrentExt.test(uncleanName.toLowerCase())){uncleanName+='.'+currentExt;}}return'File:'+$.ucFirst(uncleanName);},cleanReason:function(uncleanReason){uncleanReason=uncleanReason.replace(/^\s*(.+)\s*$/,'$1');uncleanReason=uncleanReason.replace(/(?:\-\-|–|—)? ?~{3,5}$/,'').replace(/^~{3,5} ?/,'');return uncleanReason;},showProgress:function(message){if(!message){if(this.progressDialog)this.progressDialog.remove();this.progressDialog=0;document.body.style.cursor='default';return;}if($('#feedbackContainer').length){$('#feedbackContainer').html(message);}else{document.body.style.cursor='wait';this.progressDialog=$(
'<div></div>').html('<div id="feedbackContainer">'+(message||this.i18n.preparingToEdit)+'</div>').dialog({width:450,height:90,minHeight:90,modal:true,resizable:false,draggable:false,closeOnEscape:false,dialogClass:'ajaxDeleteFeedback',open:function(){$(this).parent().find('.ui-dialog-titlebar').hide();},close:function(){$(this).dialog("destroy");$(this).remove();}});}},savePage:function(page,summary,callback){mw.user.tokens.set('editToken',AQD.edittoken);$.extend(true,page,{cb:function(r){AQD.secureCall(callback,r);},errCb:function(t,r,q){AQD.fail(t);},summary:summary});mw.loader.using(['ext.gadget.libAPI'],function(){mw.libs.commons.api.editPage(page);});},movePage:function(){mw.user.tokens.set('moveToken',AQD.movetoken);if(pageName.replace(/_/g,' ')===AQD.destination)return AQD.nextTask();mw.loader.using(['ext.gadget.libAPI'],function(){var moveArgs={cb:function(){AQD.nextTask();},errCb:function(t,r,q){AQD.fail(t);},from:pageName,to:AQD.destination,reason:AQD.reason,movetalk:true,
watchlist:AQD.pageWasWatched?'watch':'nochange'};if(AQD.wpLeaveRedirect===false){moveArgs.noredirect=true;}AQD.showProgress(AQD.i18n.movingFile);mw.libs.commons.api.movePage(moveArgs);});},deletePage:function(){mw.user.tokens.set('deleteToken',AQD.deletetoken);mw.loader.using(['ext.gadget.libAPI'],function(){AQD.showProgress(AQD.i18n.deletingFile);mw.libs.commons.api.deletePage({cb:function(){AQD.nextTask();},errCb:function(t,r,q){AQD.fail(t);},title:pageName,reason:AQD.reason});});},queryAPI:function(params,callback){mw.loader.using(['ext.gadget.libAPI'],function(){mw.libs.commons.api.query(params,{method:'POST',cache:false,cb:function(r){AQD.secureCall(callback,r);},errCb:function(t,r,q){AQD.fail(t);}});});},secureCall:function(fn){var o=AQD;try{o.currentTask=arguments[0];if($.isFunction(fn)){return fn.apply(o,Array.prototype.slice.call(arguments,1));}else if('string'===typeof fn){return o[fn].apply(o,Array.prototype.slice.call(arguments,1));}else{o.fail('This is not a function!');}}
catch(ex){o.fail(ex);}},tasks:[],currentTask:'',addTask:function(task){this.tasks.push(task);},nextTask:function(){this.secureCall(this.tasks.shift());},retryTask:function(){this.secureCall(this.currentTask);},reloadPage:function(){this.showProgress();if(this.pageName&&this.pageName.replace(/ /g,'_')!==pageName)return;var encTitle=(this.destination||pageName);encTitle=encodeURIComponent(encTitle.replace(/ /g,'_')).replace(/%2F/ig,'/').replace(/%3A/ig,':');location.href=mw.config.get('wgServer')+mw.config.get('wgArticlePath').replace("$1",encTitle);},fail:function(err){var o=this;if(typeof err==='object'){var stErr=err.message+' \n\n '+err.name;if(err.lineNumber)stErr+=' @line'+err.lineNumber;err=stErr;}var msg=this.i18n.taskFailure[this.currentTask]||this.i18n.genericFailure;var fix='';if(this.img_summary==='Nominating for deletion'){fix=(this.templateAdded?this.i18n.completeRequestByHand:this.i18n.addTemplateByHand);}var dlgButtons={};dlgButtons[this.i18n.retryButtonLabel]=function(){
$(this).remove();o.retryTask();};if(-1!==$.inArray(o.currentTask,['movePage','deletePage','notifyUploaders'])&&(/code 50\d/.test(err)||/missingtitle/.test(err))){dlgButtons[this.i18n.ignoreButtonLabel]=function(){$(this).remove();o.nextTask();};}if(!this.disableReport){dlgButtons[this.i18n.reportButtonLabel]=function(){$('#feedbackContainer').contents().remove();$('#feedbackContainer').append($('<img>',{src:'//bits.wikimedia.org/skins-1.5/common/images/ajax-loader.gif'})).css('text-align','center');var randomId=Math.round(Math.random()*1099511627776);var toSend='\n== Autoreport by AjaxQuickDelete '+randomId+' ==\n'+err+'\n++++\n:Task: '+o.currentTask+'\n:NextTask: '+o.tasks[0]+'\n:LastTask: '+o.tasks[o.tasks.length-1]+'\n:Page: {{Page|1='+(o.pageName||pageName)+'}}\n:Skin: '+mw.user.options.get('skin')+'\n:[{{fullurl:Special:Contributions|target={{subst:urlencode:{{subst:REVISIONUSER}}}}&offset={{subst:REVISIONTIMESTAMP}}}} Contribs] '+
'[{{fullurl:Special:Log|user={{subst:urlencode:{{subst:REVISIONUSER}}}}&offset={{subst:REVISIONTIMESTAMP}}}} Log] '+'before error';$.post(o.apiURL,{'action':'edit','format':'json','title':'MediaWiki talk:Gadget-AjaxQuickDelete.js/auto-errors','summary':'[[#Autoreport by AjaxQuickDelete '+randomId+'|Reporting an AjaxQuickDelete error.]] Random ID='+randomId,'appendtext':toSend,'token':(o.edittoken||mw.user.tokens.get('editToken'))},function(){o.reloadPage();});};}dlgButtons[this.i18n.abortButtonLabel]=function(){$(this).remove();};this.disableReport=false;this.showProgress();this.progressDialog=$('<div>').append($('<div>',{id:'feedbackContainer',html:(msg+' '+fix+'<br>'+this.i18n.errorDetails+'<br>'+mw.html.escape(err)+'<br>'+(this.tag?(this.i18n.tagWas+this.tag):'')+'<br><a href="'+mw.util.wikiGetlink('MediaWiki talk:AjaxQuickDelete.js')+'" >'+this.i18n.errorReport+'</a>')})).dialog({width:550,modal:true,closeOnEscape:false,title:this.i18n.errorDlgTitle,dialogClass:"ajaxDeleteError",
buttons:dlgButtons,close:function(){$(this).dialog("destroy");$(this).remove();}});},formatDate:function(fmt,date){return mw.libs.commons.formatDate(fmt,date,(mw.libs.commons.api&&mw.libs.commons.api.getCurrentDate()||new Date()));},requestPagePrefix:"Commons:Deletion requests/",userTalkPrefix:mw.config.get('wgFormattedNamespaces')[3]+":",apiURL:mw.util.wikiScript('api'),apiErrorThreshold:10,i18n:{toolboxLinkDelete:"Nominate for deletion",toolboxLinkDiscuss:"Nominate category for discussion",reasonForDeletion:"Why should this file be deleted?",reasonForDiscussion:"Why does this category need discussion?",moreInformation:"More information",loading:"Loading...",keptAfterDR:"This page was kept after a deletion request. Please contact the administrator who kept it before re-nominating.",hasTalkpage:"There is a talk page. Consider reading it or adding your remarks.",mentionedInDR:"Consider reading the deletion debate –%PAGE%– that links to this page.",mentionedInForum:
"On %PAGE%, this page is part of a discussion.",previewLabel:"Preview:",submitButtonLabel:"Proceed",cancelButtonLabel:"Cancel",abortButtonLabel:"Abort",reportButtonLabel:"Report automatically",retryButtonLabel:"Retry",ignoreButtonLabel:"Ignore and continue",inverseButtonLabel:"Inverse. Keep this delete other",swapImagesButtonLabel:"Swap to compare",overlayButtonLabel:"Overlay to compare",preparingToEdit:"Preparing to edit pages... ",creatingNomination:"Creating nomination page... ",listingNomination:"Adding nomination page to daily list... ",addingAnyTemplate:"Adding template to "+canonicalNs.toLowerCase()+" page... ",notifyingUploader:"Notifying %USER%... ",toolboxLinkSource:"No source",toolboxLinkLicense:"No license",toolboxLinkPermission:"No permission",toolboxLinkCopyvio:"Report copyright violation",reasonForCopyvio:"Why is this file a copyright violation?",notAllowed:"You do not have the neccessary rights to move files",reasonForMove:"Why do you want to move this file?",
moveDestination:"What should be the new file name?",moveOtherDestination:"The name you have specified exists. Choose a new name, please.",checkFileExists:"Checking whether file exists",movingFile:"Moving file",replacingUsage:"Ordering CommonsDelinker to replace all usage",dropdownMove:"Move & Replace",leaveRedirect:"Leave a redirect behind:",moveAndReplace:"Move file and replace all usage",removingTemplate:"Removing template",declineRequest:"Why do you want to decline the request?",anyDecline:"Decline request",useCORSForReplace:"Try to replace usage immediately using your user account:",deletingFile:"Deleting file",compareDetails:"Please compare the images before merging the descriptions. The image with the bold text will be deleted.",mergeDescription:"Please now merge the file descriptions",redirectingFile:"Redirecting file",savingDescription:"Saving new details",errorDlgTitle:"Error",genericFailure:"An error occurred while trying to do the requested action. ",taskFailure:{
listUploaders:"An error occurred while determining the "+(nsNumber===6?" uploader(s) of this file":"creator of this page")+".",loadPages:"An error occurred while preparing to nominate this "+canonicalNs.toLowerCase()+" for deletion.",prependDeletionTemplate:"An error occurred while adding the {{delete}} template to this "+canonicalNs.toLowerCase()+".",createRequestSubpage:"An error occurred while creating the request subpage.",listRequestSubpage:"An error occurred while adding the deletion request to today's log.",notifyUploaders:"An error occurred while notifying the "+(nsNumber===6?" uploader(s) of this file":"creator of this page")+".",movePage:"Error while moving the page.",deletePage:"Error deleting the page."},addTemplateByHand:"To nominate this "+canonicalNs.toLowerCase()+" for deletion, please edit the page to add the {{delete}} template and follow the instructions shown on it.",completeRequestByHand:
"Please follow the instructions on the deletion notice to complete the request.",errorDetails:"A detailed description of the error is shown below:",errorReport:"Manually report the error here or click on <tt>Report automatically</tt> to send an automatic error-report.",tagWas:"The tag to be inserted into this page was "}};AQD.preinstall();if(mw.config.get('wgUserLanguage')!=='en'){$.ajax({url:mw.util.wikiScript(),dataType:'script',data:{title:'MediaWiki:Gadget-AjaxQuickDelete.js/'+mw.config.get('wgUserLanguage')+'.js',action:'raw',ctype:'text/javascript',maxage:2419200,smaxage:2419200},cache:true,success:AQD.install,error:AQD.install});}else{AQD.install();}}(jQuery,mediaWiki));;},{"css":[
".ajaxDeleteFeedback{border:1px #A9DE16 solid !important;background:#EAF2CB url(//bits.wikimedia.org/skins-1.5/common/images/ajax-loader.gif) no-repeat 8px 14px !important;padding-left:2.85em !important;padding-top:10px !important;font-size:1.1em !important}.ajaxDeleteError{border:1px #DE1616 solid!important;background:#F2CBCB!important;padding-left:0em}.ajaxDeleteDeclineMove{float:right;background:#F2CBCB;padding:0.3em}.ajaxDeleteLazyLoad{min-height:100px;max-height:450px;border:#ddd solid 1px;overflow:auto}#AjaxDupeContainer{position:relative}#AjaxDupeContainer \u003E div{margin:5px;display:inline-block;vertical-align:top;width:365px}#AjaxDeleteContainer textarea{margin:5px;display:inline-block;width:365px;font-size:0.9em}#AjaxDeleteImgDel{color:red;font-weight:bold}#AjaxDeleteImgKeep{color:green} #AjaxQuestionParse,#AjaxQuestionParse0,div[id^=\"AjaxQuestionParse\"]{min-height:50px;max-height:300px;overflow:auto;color:#000;background:#DDD;border:1px solid #EEE} #AjaxQuestion0,#AjaxQuestion1,div[id^=\"AjaxQuestion\"]{direction:ltr} #AjaxQuestionParse a.new,#AjaxQuestionParse0 a.new,div[id^=\"AjaxQuestionParse\"] a.new{color:#BA0000 !important}.ajaxTextareaConverter{position:absolute;right:0px;top:1px;cursor:pointer}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:546f76038110863ef0c5e58e304a861c */"
]},{});mw.loader.implement("ext.gadget.ExtraTabs2",function(){window.load_extratabs=false;(function($,mw){"use strict";var title,username,userLang,project,nsSpecial,nsUser,nsUserTalk,nsFile,nsFileTalk,nsCategory,extraTabs;title=mw.config.get('wgTitle');username=title.split('/')[0];userLang=mw.config.get('wgUserLanguage');project='commons.wikimedia.org';nsSpecial=-1;nsUser=2;nsUserTalk=3;nsFile=6;nsFileTalk=7;nsCategory=14;extraTabs={doInjectGroup:function(group){$.each(group,function(i,l){var msg=mw.message('extratabs-'+l.label+'-label'),tooltip=mw.message('extratabs-'+l.label+'-tooltip');msg=msg.exists()?msg.toString():l.label;tooltip=tooltip.exists()?tooltip.toString():l.tooltip;mw.util.addPortletLink(l.portlet,l.target,msg,l.id,tooltip);});},getLinks:function(key){switch(key){case'file':return[{target:mw.util.wikiGetlink('Special:GlobalUsage/'+title),label:'checkusage',portlet:'p-cactions',id:'ca-checkusage'},{target:'//toolserver.org/~daniel/WikiSense/CommonSense.php?'+$.param({
'go-clean':'yes','i':title}),label:'categorize',portlet:'p-cactions',id:'ca-commonsense'},{target:mw.util.wikiScript()+'?'+$.param({page:'File:'+title,title:'Special:Log'}),label:'log',portlet:'p-cactions',id:'ca-log'},{target:mw.util.wikiScript()+'?'+$.param({title:'File:'+title,action:'purge'}),label:'purge',portlet:'p-cactions',id:'ca-purge'}];case'user':return[{target:mw.util.wikiGetlink('Special:ListFiles/'+username),label:'gallery',portlet:'p-cactions',id:'ca-gallery'},{target:'//toolserver.org/~daniel/WikiSense/OrphanImages.php?'+$.param({wiki:project,img_user_text:username}),label:'orphans',portlet:'p-cactions',id:'ca-orphans'},{target:'//toolserver.org/~daniel/WikiSense/UntaggedImages.php?'+$.param({wiki:project,img_user_text:username}),label:'untagged',portlet:'p-cactions',id:'ca-untagged'},{target:'//toolserver.org/~magnus/glamorous.php?'+$.param({doit:'Do it!',username:username}),label:'GLAMorous',portlet:'p-cactions',id:'ca-glamorous'}];case'category':return[{target:
'//toolserver.org/~daniel/WikiSense/CategoryIntersect.php?'+$.param({wiki:project,basecat:title}),label:'catscan',portlet:'p-cactions',id:'ca-catscan'},{target:'//toolserver.org/~platonides/catdown/catdown.php?'+$.param({cat:title,lang:'commons'}),label:'catdown',portlet:'p-cactions',id:'ca-catdown'},{target:'//toolserver.org/~magnus/glamorous.php?'+$.param({doit:'Do it!',category:title}),label:'GLAMorous',portlet:'p-tb',id:'tb-glamorous'}];default:return[];}},init:function(){mw.messages.set({"extratabs-checkusage-label":"Global usage","extratabs-categorize-label":"Find categories","extratabs-log-label":"Log","extratabs-gallery-label":"Gallery","extratabs-orphans-label":"Orphans","extratabs-untagged-label":"Untagged","extratabs-tree-label":"Tree","extratabs-catscan-label":"CatScan","extratabs-catdown-label":"Download all","extratabs-GLAMorous-label":"Usage of all files","extratabs-GLAMorous-tooltip":"Check usage of files (GLAMorous-Tool) on wikis of the Wikimedia Foundation",
"extratabs-blocklog-label":"Block log","extratabs-purge-label":"Purge","extratabs-thumbPurge-label":"Generate thumbnail","extratabs-wplangcode":"en","extratabs-wppage-label":"$1-wiki"});if(userLang!=='en'){importScript('MediaWiki:Gadget-ExtraTabs2.js/'+userLang);}},startInjection:function(){switch(mw.config.get('wgNamespaceNumber')){case nsSpecial:if(mw.config.get('wgCanonicalSpecialPageName')==='Blockip'){username=$('#mw-bi-target').val();if(username){extraTabs.doInjectGroup([{target:mw.util.wikiScript()+'?'+$.param({title:'Special:Log',type:'block',page:'User:'+username}),label:'blocklog',portlet:'p-cactions',id:'ca-blocklog'}]);}}else if(mw.config.get('wgCanonicalSpecialPageName')==='Contributions'){username=document.getElementsByName('target')[0].value;extraTabs.doInjectGroup(extraTabs.getLinks('user'));}break;case nsUser:case nsUserTalk:extraTabs.doInjectGroup(extraTabs.getLinks('user'));break;case nsFile:case nsFileTalk:extraTabs.doInjectGroup(extraTabs.getLinks('file'));if(title
.match(/^d+px-/)){var baseTitle=title.replace(/^d+px-/,'');extraTabs.doInjectGroup([{target:mw.util.wikiGetlink('File:'+baseTitle),label:'unthumb',portlet:'p-cactions',id:'ca-unthumb'}]);}extraTabs.doInjectGroup([{target:'http://'+mw.msg('extratabs-wplangcode')+'.wikipedia.org/wiki/File:'+title,label:mw.msg('extratabs-wppage-label',mw.msg('extratabs-wplangcode')),portlet:'p-cactions',id:'ca-wppage'}]);break;case nsCategory:extraTabs.doInjectGroup(extraTabs.getLinks('category'));break;}}};extraTabs.init();mw.commonsExtraTabs=extraTabs;$(document).ready(extraTabs.startInjection);}(jQuery,mediaWiki));;},{},{});mw.loader.implement("ext.gadget.ImprovedUploadForm",function(){mw.loader.using(['mediawiki.user','mediawiki.legacy.wikibits','site','user'],function(){function enableNewUploadForm(){if("1"===mw.user.options.get('gadget-OldUploadForm'))UploadForm_forcebasic=true;if(typeof UploadForm_forcebasic==='undefined'){UploadForm_forcebasic=(typeof JSconfig.keys.UploadForm_newlayout===
'undefined')?false:(!JSconfig.keys.UploadForm_newlayout);}var match=navigator.userAgent.match(/AppleWebKit\/(\d+)/);if(match){var webKitVersion=parseInt(match[1],10);if(webKitVersion<420){return;}}var isNlWLM=(document.URL.indexOf('uselang=nlwikilovesmonuments')>=0);if(!isNlWLM&&!JSconfig.keys.UploadForm_loadform&&UploadForm_forcebasic){return;}importScript('MediaWiki:UploadForm.js');if(isNlWLM){importScript('MediaWiki:UploadFormNlWikiLovesMonuments.js');}}if(mw.config.get('wgCanonicalSpecialPageName')==='Upload'){enableNewUploadForm();}});;},{},{});mw.loader.implement("ext.gadget.LanguageSelect",function(){(function($,mw){'use strict';var multilingual,commonsUserLanguage=mw.config.get('wgUserLanguage');multilingual=window.multilingual={cookie:'commonswiki_language_js',helpUrl:'//meta.wikimedia.org/wiki/Meta:Language_select',langCountThreshold:4,$p:$('#mw-content-text'),method:'prepend',$OuterContainer:mw.util.$content,stringHelp:{'be-tarask':'Выбар мовы','be-x-old':
'Выбар мовы','cs':'Výběr jazyka:','da':'Vælg sprog:','de':'Sprachauswahl:','en':'Language select:','eo':'Lingvoelekto:','es':'Seleccionar idioma:','fa':'انتخاب زبان:','fr':'Sélecteur de langue&nbsp;:','gl':'Seleccionar idioma:','hu':'Nyelvválasztás:','it':'Seleziona lingua:','ko':'언어 선택:','mk':'Јазик:','ml':'ഭാഷ തിരഞ്ഞെടുക്കുക:','nds':'Spraakutwahl:','nl':'Taal:','pl':'Wybierz język:','pt':'Seleção do idioma:','pt-br':'Seleção do idioma:','ru':'Выбор языка:','sv':'Välj språk:','zh-hans':'语言选择'},stringShowAll:{'be-tarask':'Паказаць усе','be-x-old':'Паказаць усе','cs':'Zobrazit všechny','da':'Vis alle','de':'Alle anzeigen','en':'Show all','eo':'ĉiuj','es':'Mostrar todos','fa':'نمایش همه','fr':'Toutes les langues','gl':'Amosar todos','hu':'Mutasd mind','it':'Mostra tutte','ko':'모두 보기','mk':'Сите','ml':'എല്ലാം','nds':'All wiesen','nl':
'Toon alles','pl':'Pokaż wszystkie','pt':'Mostrar todos','pt-br':'Mostrar todos','ru':'Показать все','sv':'Visa alla','zh-hans':'全部显示'},getBrowserLanguage:function(){return navigator.userLanguage||navigator.language||navigator.browserLanguage;},setCookieLanguage:function(language){$.cookie(this.cookie,language,{expires:100,path:'/'});},deleteCookieLanguage:function(language){$.cookie(this.cookie,null,{path:'/'});},getLanguage:function(){var language='';language=$.cookie(this.cookie);if(!language&&commonsUserLanguage&&!mw.user.anonymous()){language=commonsUserLanguage;}if(!language)language=this.getBrowserLanguage();return language;},buildWidget:function(language){this.$container=$('<div/>');this.$container.attr('id','langselectorcontainer');this.$container.html('<a href="'+this.helpUrl+'" class="ls_link">'+this.stringHelpText+'</a> ');this.$select=$('<select/>');var seen={};this.mls.find('[lang]').each(function(){var lang=$(this).attr('lang');if(!seen[lang]){seen[
lang]=true;var verboseLang=lang;if(window.wpAvailableLanguages)verboseLang=wpAvailableLanguages[lang]||lang;multilingual.$select.append($('<option>',{text:verboseLang,value:lang}));}});this.$select.prepend('<option value="showall">'+this.stringShowallText+'</option>');this.$select.attr('id','langselector');this.$select.val(this.getLanguage());this.$select.change(function(){multilingual.setCookieLanguage($('#langselector').val());multilingual.apply($('#langselector').val());});this.$container.append(this.$select);this.$OuterContainer[this.method](this.$container);},init:function(){if(typeof ls_enable!=='undefined')return;if(mw.config.get('wgNamespaceNumber')<0)return;if(-1===$.inArray(mw.config.get('wgAction'),['view','purge','edit','historysubmit','submit']))return;$(document).triggerHandler('scriptLoaded',['Multilingual description',multilingual]);var language=this.getLanguage();this.stringHelpText=(this.stringHelp[language]||this.stringHelp[commonsUserLanguage.split('-')[0]]||this.
stringHelp.en);this.stringShowallText=(this.stringShowAll[language]||this.stringShowAll[commonsUserLanguage.split('-')[0]]||this.stringShowAll.en);var blockElements=['div','table'];$.each(blockElements,function(i,be){multilingual.$p.find(be+'.description[lang]+'+be+'.description[lang]').each(function(){var $this=$(this);if($this.parent().hasClass('multilingual'))return;var group=$(this).prevUntil(':not('+be+'.description[lang])').add($(this)).add($(this).nextUntil(':not('+be+'.description[lang])'));if(group.length<multilingual.langCountThreshold){return true;}group.wrapAll('<div class="multilingual"></div>');});});this.mls=multilingual.$p.find('.multilingual');if(!this.mls.length)return;this.buildWidget();this.apply(this.getLanguage());},apply:function(language){if(!language){this.deleteCookieLanguage();language=this.getLanguage();}this.mls.each(function(){var $ml=$(this);if($ml.parent('[class^="image_annotation_content"]').length)return true;var id=$ml.attr('id');if(id==='bodyContent'
||id==='wikiPreview'||id==='LangTableLangs')return true;var $reqLang=$ml.find('[lang="'+language+'"]');if($reqLang.length){$ml.children('[lang][lang!="'+language+'"]').hide();$ml.children('[lang="'+language+'"]').show();}else{$ml.children('[lang]').show();}});}};mw.loader.using(['jquery.cookie','mediawiki.user','mediawiki.util','site','user'],function(){$(document).ready(function(){if($('#file').length){multilingual.method='append';multilingual.$OuterContainer=$('#file');}else{multilingual.method='prepend';multilingual.$OuterContainer=mw.util.$content;}multilingual.init();});});})(jQuery,mediaWiki);;},{},{});mw.loader.implement("ext.gadget.Long-Image-Names-in-Categories",function(){if((mw.config.get('wgNamespaceNumber')===14||'Newimages'===mw.config.get('wgCanonicalSpecialPageName'))&&mw.config.get('wgAction')==='view'&&!mw.util.getParamValue('diff')){$(function(){'use strict';$('.gallerytext a[title^="File:"]').each(function(){this.innerHTML=this.title.substring(5,this.title.length);}
);});};},{},{});mw.loader.implement("ext.gadget.Slideshow",function(){$(document).ready(function(){'use strict';if($('.gallery').find('li').length<2||mw.config.get('wgNamespaceNumber')===-1||mw.util.getParamValue('printable'))return;var msgs={"gs-label-start":"Slideshow (all images)","gs-label-gallery":"Gallery Slideshow","gs-label-started":"Show Slideshow","gs-label-category":"Category Slideshow","gs-label-continue":"Resume","gs-title-start":"Start a slideshow of all images (alphabetical by file name)","gs-title-gallery":"Start a slideshow made from the images in the gallery of this page","gs-title-started":"Reopen slideshow pane","gs-title-category":"Start a category slideshow (alphabetical by sortkey, starting with the first file of the category)","gs-title-continue":"Continue Slideshow where you had left it last time you visited this page."};mw.messages.set(msgs);var getMessage=function(msg){msg=mw.message('gs-'+msg);return(msg.exists()?msg.toString():msg);};mw.loader.using([
'jquery.cookie','mediawiki.util','jquery.ui.button'],function(){var isCategory=mw.config.get('wgNamespaceNumber')===14,$gButtons=$('<div>',{id:'GallerySlideStartButtons'}),$gButtonsInner=$('<div>',{id:'GallerySlideStartButtonsInner'}).appendTo($gButtons);if(isCategory){$('#mw-category-media').prepend($gButtons);}else{$('#content').find('#firstHeading').before($gButtons);}var startSlideshow=function(o,cont,screenread){if(cont)o.cont=cont;if(screenread){o.readFromScreen=true;o.remoteUse=true;}o.start();};var loadSlideshowAndStart=function(cont,screenread){$startButton.button({label:getMessage('label-started')}).attr('title',getMessage('title-started'));if('object'===typeof window.GallerySlide){startSlideshow(window.GallerySlide,cont,screenread);}else{$(document).bind('slideshow',function(e,st,o){if('codeLoaded'===st&&o){startSlideshow(o,cont,screenread);}});window.importScriptURI(mw.config.get('wgServer')+mw.config.get('wgScript')+'?'+$.param({title:'MediaWiki:GallerySlideshow.js',action
:'raw',ctype:'text/javascript',dummy:6}));}};var createButton=function(type,msg){return $('<button>',{role:'button',id:'GallerySlide'+type,title:getMessage('title-'+(msg||type)),text:getMessage('label-'+(msg||type))});},$startButton=createButton('start',isCategory?'category':'gallery').button({icons:{secondary:'ui-icon-slideshow'}}).addClass('ui-button-green').click(function(){if(isCategory){loadSlideshowAndStart();}else{loadSlideshowAndStart(0,true);}});if($('#mw-category-media .gallery').prevAll('a').length){$gButtonsInner.append(createButton('gallery').button({icons:{primary:'ui-icon-image'}}).click(function(){loadSlideshowAndStart(0,true);}));}var lastQuery=$.cookie('gs'+mw.config.get('wgPageName').replace('Category:','1:').replace('Commons:','2:'));if(lastQuery){$gButtonsInner.append(createButton('continue').button({icons:{primary:'ui-icon-seek-next'}}).click(function(){loadSlideshowAndStart(lastQuery);}));}$startButton.appendTo($gButtonsInner);$gButtons.buttonset();$(document).
triggerHandler('slideshow',['loadedInstaller',$gButtons]);var autoStart=mw.util.getParamValue('gsAutoStart');if(({'1':1,'true':1,'yes':1,'-1':1}[autoStart])){loadSlideshowAndStart();}var hoverOutTimeout=0,hoverInTimeout=0,fullWidth=$gButtonsInner.outerWidth(true)+7;$gButtons.hover(function(){clearTimeout(hoverOutTimeout);if($gButtons.queue().length){$gButtons.stop(true).animate({width:fullWidth});return;}$gButtons.css('width','2.25em');fullWidth=$gButtonsInner.outerWidth(true)+7;hoverInTimeout=setTimeout(function(){$gButtons.animate({width:fullWidth});},200);},function(){clearTimeout(hoverOutTimeout);clearTimeout(hoverInTimeout);hoverOutTimeout=setTimeout(function(){$gButtons.animate({width:'2.25em'});},800);}).css({width:'2.25em',height:'3em'});});});;},{"css":[
"#content \u003E #GallerySlideStartButtons{font-size:80%}#GallerySlideStartButtons{float:right;overflow:hidden;white-space:nowrap;position:relative}#GallerySlideStartButtonsInner{position:absolute;right:4px} @media print{#GallerySlideStartButtons{display:none !important}}    .ui-button .ui-icon-slideshow{background-repeat:no-repeat;background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAAAQCAYAAADOFPsRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADQklEQVRYhe2Y32tSYRjHTyyCGLE7r7oq8lgkCwTvdhX+BeI/oOeo3WweNrZpo2LdzLYgrNVFdOFU1o6xii67CPJCugghGcwpmbalCdVya7Ef55y+53jOcJtsbus9wvCBD+/zvox9X/lwXl8PRbXr5JbL7UowHmamVfmSJCVAy/IpXyQBWpZPB/gE7Y8fPZ9xMwVZ4n/c06EK8gqyxFblQ15Bkdiiov18QZbY1B+73e4uCJOagcRmIapLarJI5FNDfBdkSU1BoC4gH8KkZmj4DzSBY8Gx1fGJ8RWZ4L2gEBwPbmnz0buja6QF5vP5z7lcLitTKBQ2wZo2X1pa+kpa4JuFkvS++KMhTz7kiAt8lfsuvV382ZCnH/MHCww9DP2efDy5LINeCD0KbWrzifsTK6yHXSPxATSBc6hPamUymY35+flVbZ7NZhdEUfxDIl8TuPh3Q6piH41IfvslnemPEfn8msA55H9BViPelZalqyMvGue3BbYFHqvaAtsCj1cnRSAEbYF1BS8rYhS1uR63UAjaAn9lBEHAIAraXI9b6On+mNA5NL1e47nYOTgtanM9bqFXRuJC9+3ZdYU7L8XuW7OiNt/3FupwODoYhrHUg9+AJYZlUvVrLMteI/EB4KUDWHZRAqlda0TyKQffQfXGLDvoi5QoXzS1Y80XI5ZvGuYt9UBWCaTq1y4F+ObylSeSZcoujyvNcdxZIpvep9QnsgzSQPf82hMZLYM0xfG658tPpNHPl01+Pn3+KPmQF8ZxWcVYgcQHBPa4b0FaWP3qqQDd83FUhikuUsVYAbrnm4ZnwrQ/XoXECj3MHy4fx6Qd8jKgyHiYpDxC4nVCe91TEGYHGVCU7w7qqFs+jk47pGUo31SR6osmlbE3qls+5NlxdGboAF80BWaS6IvGQLy5fK/Xa4CwssvrsmrvQiHRJvdOp/Mc4b3L8gzq0WmV1HehwKb2xPOpgSkD5JUpLmbdfhfaF7Ep/eAz4vkXB2YN8tFpvMlbtXehlwO8TekHXx+cr15meuQe34Nm5w0nLffq2imy29++zPSovRnQat8DiOcrlxkuouRTXNQMeXStl9f0yTf640q+aYg30yO8kl9b25v/D7228kP7LK3bAAAAAElFTkSuQmCC\") !important}.ui-state-default .ui-icon-slideshow{background-position:-96px 0;width:16px;height:16px}.ui-state-hover .ui-icon-slideshow{background-position:-64px 0;width:16px;height:16px}.ui-state-active .ui-icon-slideshow{background-position:0 0;width:16px;height:16px}.skin-vector .ui-state-error .ui-icon-slideshow,.skin-vector .ui-button-red .ui-icon-slideshow,.skin-vector .ui-button-green .ui-icon-slideshow,.skin-vector .ui-button-blue .ui-icon-slideshow,.skin-vector .ui-button-orange .ui-icon-slideshow{background-position:-32px 0;width:16px;height:16px}#SlideContainer{width:100%;height:0px;background:#3B3B3B;position:fixed;top:0px;left:0px;z-index:1002;line-height:2em;font:small sans-serif}#GallerySlideHelpSplash{display:block;position:fixed;border:1px solid #000;background:#DDD;max-width:350px;z-index:1005}.cat-label,.license-label{border:#AAA solid 1px;padding:2px;white-space:nowrap}.cat-label{background:#000;color:#EEE;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;-o-border-radius:4px;-ms-border-radius:4px}.cat-label:visited{color:#5695FD}.license-label{color:gray;display:inline-block}.gs-author-label,.gs-date-label,.gs-uploader-label{font-weight:bold;display:inline-block;min-width:75px}.cat-wrap,.license-wrap{font-size:0.5em;margin-left:2px;margin-top:10px;line-height:2em}.digit-separator{font-size:70%;font-weight:100}    .gs-play{background:url(\"//upload.wikimedia.org/wikipedia/commons/0/07/Gnome-media-playback-sprite.png\") no-repeat top left} .gs-play-bwd{background-position:5px 5px;width:35px;height:35px} .gs-play-fwd{background-position:-40px 5px;width:35px;height:35px} .gs-play-pause{background-position:-85px 5px;width:35px;height:35px} .gs-play-play{background-position:-130px 5px;width:35px;height:35px}  body.rtl .gs-play-fwd{background-position:5px 5px;width:35px;height:35px} body.rtl .gs-play-bwd{background-position:-40px 5px;width:35px;height:35px}    .gs-icon{display:inline-block;background:url(\"//upload.wikimedia.org/wikipedia/commons/1/11/Slideshow_menu_icon_sprite.png\") no-repeat top left} .gs-icon-clock{background-position:0 0} .gs-icon-help{background-position:-32px 0} .gs-icon-keyGo{background-position:-64px 0} .gs-icon-zkey{background-position:-96px 0}.gs-icon-clock,.gs-icon-help,.gs-icon-keyGo,.gs-icon-zkey{height:16px;width:16px}.continue-key-insert,.gs-help-link,.delay-insert{float:right;margin-left:3px;margin-right:3px;display:block}.cont-key-container{word-wrap:break-word;padding:7px 7px 7px 12px;background-color:#EEE;background-position:-93px 50%;font-size:6px;margin-top:10px;display:block}.cont-key-container \u003E a{color:#CCD}.cont-key-container \u003E a:hover{color:#55A}.gs-img-description-desc{background-color:#EEE;margin:10px 0}.gs-img-metrics{color:green}.gs-img-uploader,.gs-img-description,.gs-img-metrics{font-size:0.7em;margin-top:10px}.bar-fwd{right:0;border-radius:2px 0 0 2px ;-webkit-border-radius:2px 0 0 2px ;-moz-border-radius:2px 0 0 2px ;-o-border-radius:2px 0 0 2px }.bar-bwd{left:0;border-radius:0 2px 2px 0;-webkit-border-radius:0 2px 2px 0;-moz-border-radius:0 2px 2px 0;-o-border-radius:0 2px 2px 0}.bar-fwd,.bar-bwd{width:15px;background:#888;overflow:visible;opacity:0.8;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\";height:100%;position:absolute;top:0;cursor:pointer}.bar-btn-fwd,.bar-btn-bwd{position:relative;display:none;font-size:30px;text-align:center;padding-top:20px;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px;-o-border-radius:2px;background:#888;z-index:1006;width:40px;height:56px;cursor:pointer;top:45%}.bar-btn-fwd{left:-30px }.slideshow-close-button{border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px;-o-border-radius:2px;text-align:center;background:#888;z-index:1019;width:50px;height:40px;position:relative;top:0;left:-30px;font-size:30px}ul.thumbs a.thumb{overflow:hidden;width:75px;height:75px}div.slideshow-container,div.slideshow{height:100%}div.slideshow{position:relative;display:block;vertical-align:top}div.loader,div.slideshow a.advance-link,.caption-container{width:100%}div.loader,div.slideshow a.advance-link{display:none}div.content{clear:both}div.content a:hover,div.content a:active{text-decoration:underline}div.controls{margin-top:5px;height:50px}div.controls a{padding:5px;display:inline-block}div.ss-controls{display:inline-block}div.nav-controls{margin:0 auto;width:136px;border:1px solid #2B2B2B;padding:0 15px;border-radius:80px;-webkit-border-radius:80px;-moz-border-radius:80px;-o-border-radius:80px;margin-top:6px;opacity:0.4;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";box-shadow:3px 2px 7px rgba(0,0,0,0.3);-moz-box-shadow:3px 2px 7px rgba(0,0,0,0.3);-webkit-box-shadow:3px 2px 7px rgba(0,0,0,0.3);-o-box-shadow:3px 2px 7px rgba(0,0,0,0.3);background:#666;background-image:-o-linear-gradient(bottom,rgb(77,77,77) 0%,rgb(171,171,171) 100%);background-image:-moz-linear-gradient(bottom,rgb(77,77,77) 0%,rgb(171,171,171) 100%);background-image:-webkit-gradient(linear,left bottom,left top,from(rgb(77,77,77)),to(rgb(171,171,171)));background-image:-webkit-linear-gradient(bottom,rgb(77,77,77) 0%,rgb(171,171,171) 100%);background-image:-ms-linear-gradient(bottom,rgb(77,77,77) 0%,rgb(171,171,171) 100%);background-image:linear-gradient(bottom,rgb(77,77,77) 0%,rgb(171,171,171) 100%)}span.image-wrapper img{width:100%}div.other-controls{float:right;margin-top:-25px;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";opacity:0.6} div.loader{position:absolute;top:0;left:0;background-repeat:no-repeat;background-position:center;height:100%;background-image:url(\"//upload.wikimedia.org/wikipedia/commons/1/1b/Ajax-loader-dark.gif\")}div.slideshow span.image-wrapper{display:block;position:absolute;top:0;left:0}div.slideshow a.advance-link{display:block;text-align:center}div.slideshow a.advance-link:hover,div.slideshow a.advance-link:active,div.slideshow a.advance-link:visited,div.content a,div.navigation a{text-decoration:none}div.caption-container{font-size:1.5em;width:20%;min-width:180px;max-width:320px;position:relative;display:inline-block;vertical-align:top}span.image-caption{display:block;z-index:1003;overflow:auto;position:absolute;width:100%;background:#DDD;padding:10px}div.caption{padding:0 12px}div.image-title{font-weight:700;font-size:1.4em}div.image-desc{line-height:1.3em;padding-top:12px}div.download{margin-top:8px}#thumbs.navigation,.slideshow-container,div.controls{overflow:hidden;margin:0 25px}ul.thumbs{position:relative;margin:0;padding:0;left:0;height:80px;width:10000px;overflow:hidden}ul.thumbs li,ul.thumbs{display:inline-block;zoom:1;display:inline!ie}ul.thumbs li{padding:0;margin:2px;list-style:none}a.thumb{padding:1px;display:block}a.thumb:focus,div.slideshow a.advance-link:focus{outline:none}ul.thumbs img{border:none;display:block}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:12baef2bca83eb01b0dc6ce764b85a98 */"
]},{});mw.loader.implement("ext.gadget.Stockphoto",function(){(function($,mw,undefined){"use strict";var stockPhoto,clientProfile=$.client.profile();if(window.stockPhoto===undefined&&(mw.config.get('skin')==='vector'||mw.config.get('skin')==='monobook')&&mw.config.get('wgNamespaceNumber')===6&&$.inArray(mw.config.get('wgAction'),['view','purge'])!==-1&&(('msie'!==clientProfile.name)||(('msie'===clientProfile.name)&&clientProfile.versionNumber>7))&&(('opera'!==clientProfile.name)||(('opera'===clientProfile.name)&&parseFloat(clientProfile.version)>9.27))){stockPhoto={ui_icon_download:'//upload.wikimedia.org/wikipedia/commons/thumb/9/92/Gnome-document-save.svg/50px-Gnome-document-save.svg.png',ui_icon_web:'//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Gnome-emblem-web.svg/50px-Gnome-emblem-web.svg.png',ui_icon_wiki:'//upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Tango_style_Wikipedia_Icon.svg/50px-Tango_style_Wikipedia_Icon.svg.png',ui_icon_email:
'//upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Gnome-mail-send.svg/50px-Gnome-mail-send.svg.png',ui_icon_help:'//upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Dialog-information_on.svg/50px-Dialog-information_on.svg.png',ui_icon_remove:'//upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Emblem-unreadable.svg/20px-Emblem-unreadable.svg.png',information_template_hints:['fileinfotpl_desc','fileinfotpl_src'],icons_only:['midi','ogg','flac'],horizontal_ui:['midi','ogg','flac','pdf','djvu'],ogg_icon:mw.config.get('stylepath')+'/common/images/icons/fileicon-ogg.png',stockphoto_code1:undefined,stockphoto_author:undefined,stockphoto_license:undefined,nicetitle:undefined,file_icon:undefined,file_url:undefined,backlink_url:undefined,attribution:'',fade_target:'',gfdl_note:false,sbm_counter:1,fromCommons:false,attrRequired:true,init:function(){var $enable,has_information,img_width,img_height,xoff,yoff,horizontal,html;if(window.stockphoto_prevent!==undefined){return;}$("#filetoc").find(
"a[href=#file], a[href=#filehistory], a[href=#filelinks], a[href=#metadata], a[href=#globalusage]").parent().addClass("mw-filetoc-links");if($.cookie('StockPhotoDisabled')){$enable=$('<li class="mw-filetoc-links"><a id="SpEnable" href="#enableStockphoto">'+stockPhoto.i18n.reuse+'</a></li>');$enable.click(function(e){e.preventDefault();$.cookie('StockPhotoDisabled',null,{path:'/'});stockPhoto.init();});$("#filetoc").append($enable);return;}if($('#file').length===0){return;}stockPhoto.small_horizontal_layout=false;if(!mw.user.anonymous()){stockPhoto.small_horizontal_layout=true;}has_information=false;$.each(stockPhoto.information_template_hints,function(k,v){if($('#'+v).length!==0){has_information=true;}});if(!has_information){return;}if($('.nuke').length){return;}$('#stockphoto_base').remove();img_width=$('.multipageimage, #file img').eq(0).width();img_height=$('#file img').height();xoff=img_width+40;yoff=$('#file').position().top+5;if(!horizontal&&img_height<300){stockPhoto.
small_horizontal_layout=true;}horizontal=stockPhoto.small_horizontal_layout;$.each(stockPhoto.horizontal_ui,function(k,v){v=new RegExp('\\.'+v+'$','i');if(mw.config.get('wgTitle').match(v)){horizontal=true;}});if($(window).width()<1030){horizontal=true;}stockPhoto.share_this(-1);html='<div id="stockphoto_base" ';if(horizontal){html+=' class="horizontal">';}else if(!$("body.rtl").length){html+="class='vertical' style='left:"+xoff+"px;top:"+yoff+"px'>";}else{html+="class='vertical' style='left: 0px;top:"+yoff+"px'>";}html+=stockPhoto.add_button_row(stockPhoto.ui_icon_download,"call_download",stockPhoto.i18n.download,stockPhoto.i18n.all_sizes,horizontal);html+=stockPhoto.add_button_row(stockPhoto.ui_icon_web,"call_web",stockPhoto.i18n.use_this_file_web_short,stockPhoto.i18n.on_a_website,horizontal);html+=stockPhoto.add_button_row(stockPhoto.ui_icon_wiki,"call_wiki",stockPhoto.i18n.use_this_file_wiki_short,stockPhoto.i18n.on_a_wiki,horizontal);html+=stockPhoto.add_button_row(stockPhoto.
ui_icon_email,"send_email",stockPhoto.i18n.email_link_short,stockPhoto.i18n.to_this_file,horizontal);html+=stockPhoto.add_button_row(stockPhoto.ui_icon_help,"call_help",stockPhoto.i18n.information,stockPhoto.i18n.about_reusing,horizontal);html+='<a title="'+stockPhoto.i18n.remove_icons+'" id="stockphoto_remove"><img src="'+stockPhoto.ui_icon_remove+'" /></a>';html+="</div>";if(stockPhoto.small_horizontal_layout&&$("#file").length){$(".mw-filetoc-links").hide();$("#filetoc").append(html);}else{$("#filetoc").after(html);}$('#stockphoto_remove').click(function(){$.cookie('StockPhotoDisabled',true,{expires:60,path:'/'});$('#stockphoto_base').remove();$(".mw-filetoc-links").show();});$('#stockphoto_base img').parent().fadeTo(0,0.7);$('#stockphoto_base>span').hover(function(){$(this).find('span:first a').fadeTo('fast',1);},function(){$(this).find('span:first a').fadeTo('fast',0.7);});},add_button_row:function(icon_url,fkt,txt,html,horizontal){var imgid,a,ret;if(stockPhoto.
small_horizontal_layout){icon_url=icon_url.replace('/50px-','/20px-');}imgid='stockphoto_icon_'+fkt;a='<a href="#" title="'+txt+' '+html+'" onclick="stockPhoto.'+fkt+'(); return false;">';ret="<span id='stockphoto_"+fkt+"'>";ret+="<span class='stockphoto_buttonrow_icon'>"+a+"<img id='"+imgid+"' src='"+icon_url+"' /></a></span>";ret+="<span class='stockphoto_buttonrow_text'>"+a;if(stockPhoto.small_horizontal_layout){ret+=txt+"</a>";}else{ret+="<b>"+txt+"</b></a><br/>"+html;}ret+="</span></span>";return ret;},stockphoto_get_thumbnail_url:function(width){var thumb_url,alt_title,last;if(stockPhoto.file_icon!==undefined){return stockPhoto.file_icon;}alt_title=mw.config.get('wgCanonicalNamespace')+':'+mw.config.get('wgTitle');$('#file img').each(function(){if($(this).attr('alt')!==alt_title){return;}thumb_url=$(this).attr('src').split('/');});if(!thumb_url&&$('#mwe_ogg_player_1').length){return $('#mwe_ogg_player_1').find('img').attr('src');}if(!thumb_url||thumb_url.length<1){return;}last=
thumb_url.pop().replace(/^\d+px-/,width+'px-');thumb_url.push(last);thumb_url=thumb_url.join('/');return thumb_url;},is_audio_video_asset:function(url){var ext=url.substr(-3);if(ext==='ogv'||ext==='ogg'||ext==='oga'||ext==='ebm'){return true;}return false;},make_html_textarea:function(e){var width,type,height,thumb_url,t;if(e){e.preventDefault();}width=$('#stockphoto_html_select').val();type=$('input[name="stockphoto_code_type"]:checked').val();if(stockPhoto.is_audio_video_asset(stockPhoto.backlink_url)&&type==='html'){height=$('#mwe_ogg_player_1').width()?width*$('#mwe_ogg_player_1').height()/$('#mwe_ogg_player_1').width():width*$('#file img,#file video').height()/$('#file img,#file video').width();if(height===0){height=20;}$('#stockphoto_html').text('<iframe src="'+stockPhoto.backlink_url+'?embedplayer=yes" width="'+width+'" height="'+height+'" frameborder="0" ></iframe>');return;}thumb_url=stockPhoto.stockphoto_get_thumbnail_url(width);if(type==='html'){t='<a title="'+stockPhoto.
escapeAttribute(stockPhoto.complete_attribution_text)+'" href="'+stockPhoto.backlink_url+'"><img width="'+width+'" alt="'+stockPhoto.escapeAttribute(stockPhoto.nicetitle)+'" src="'+thumb_url+'"/></a>';}else if(type==='bbcode'){t="[url="+stockPhoto.backlink_url+"][img]"+thumb_url+"[/img][/url]\n[url="+stockPhoto.backlink_url+"]"+stockPhoto.nicetitle+"[/url]"+stockPhoto.stockphoto_license+", "+stockPhoto.i18n.by+' '+stockPhoto.stockphoto_author+", "+stockPhoto.i18n.from_wikimedia_commons;}$('#stockphoto_html').text(t);},get_author_attribution:function(use_html){var author_element,source_element,author,source;author_element=$("#fileinfotpl_aut + td");source_element=$("#fileinfotpl_src + td");author=$.trim(author_element.text());source=$.trim(source_element.text());if(author_element.find(".boilerplate").length>0){author='';}if(author.match(/^[Uu]nknown$/)){author='';}author=author.replace(/\s*\(talk\)$/i,'');if(author.indexOf('Original uploader was')!==-1){author=author.replace(
/\s*Original uploader was\s*/g,'');stockPhoto.fromCommons=true;}if(source_element.find(".boilerplate").length>0){source='';}if(author!==''&&$('#own-work').length){source='';stockPhoto.fromCommons=true;}if(author!==''&&source.length>50){source='';}if(author.substr(0,3)==='[&#9660;]'){author=author.substr(3);author=$.trim(author.split('Description').shift());}stockPhoto.attribution='';if(author!==''){stockPhoto.attribution=author;}if(source!==''){if(stockPhoto.attribution!==''){stockPhoto.attribution+=' ('+source+')';}else{stockPhoto.attribution=source;}}stockPhoto.stockphoto_author=stockPhoto.attribution;if(author!==''){stockPhoto.attribution=stockPhoto.i18n.by_u+' '+stockPhoto.attribution;}else{stockPhoto.attribution=stockPhoto.i18n.see_page_for_author;}if($('#creator').length){stockPhoto.attribution=$('#creator').text();}if($('.licensetpl_aut').length){if(use_html){stockPhoto.attribution=$('.licensetpl_aut').eq(0).html();}else{stockPhoto.attribution=$('.licensetpl_aut').eq(0).text();}
}if($('.licensetpl_attr').length){if(use_html){stockPhoto.attribution=$('.licensetpl_attr').eq(0).html();}else{stockPhoto.attribution=$('.licensetpl_attr').eq(0).text();}}if($("#fileinfotpl_credit + td").length){if(use_html){stockPhoto.attribution=$("#fileinfotpl_credit + td").html();}else{stockPhoto.attribution=$("#fileinfotpl_credit + td").text();}}},get_license:function(generate_html){var licenses,$readable,l2,l1;licenses=[];$readable=$('.licensetpl');if(!$readable.length){stockPhoto.stockphoto_license="["+stockPhoto.i18n.see_page_for_license+"]";return;}$readable.each(function(){var cL={link:$(this).find('.licensetpl_link').html(),short:$(this).find('.licensetpl_short').html(),long:$(this).find('.licensetpl_long').html(),attr:$(this).find('.licensetpl_attr').html(),aut:$(this).find('.licensetpl_aut').html(),link_req:$(this).find('.licensetpl_link_req').html(),attr_req:$(this).find('.licensetpl_attr_req').html()};if(cL.short){licenses.push(cL);}});if(licenses.length>0){$.each(
licenses,function(k,v){if(v.attr_req==='false'){stockPhoto.attrRequired=false;}if(v.short.indexOf('GFDL')!==-1){stockPhoto.gfdl_note=true;}if(generate_html&&v.link){licenses[k]='<a href="'+v.link+'">'+v.short+'</a>';}else{if(v.link_req==='true'){licenses[k]=v.short+' ('+v.link+')';}else{licenses[k]=v.short;}}});if(licenses.length>1){l2=licenses.pop();l1=licenses.pop();licenses.push(l1+' '+stockPhoto.i18n.or+' '+l2);}stockPhoto.stockphoto_license=' ['+licenses.join(', ')+']';}else{stockPhoto.stockphoto_license=' ['+stockPhoto.i18n.see_page_for_license+']';}},get_attribution_text:function(){var from,html,text;from=stockPhoto.fromCommons?stockPhoto.i18n.from_wikimedia_commons:stockPhoto.i18n.via_wikimedia_commons;html=!!$('#stockphoto_attribution_html:checked').length;stockPhoto.get_license(html);stockPhoto.get_author_attribution(html);if($('#fileinfotpl_credit + td').length){text=stockPhoto.attribution;}else{text=stockPhoto.attribution+stockPhoto.stockphoto_license;}if(html){text+=
', <a href="'+stockPhoto.escapeAttribute(stockPhoto.backlink_url)+'">'+from+'</a>';}else{text+=', '+from;}return text;},refresh_attribution:function(){$("#stockphoto_attribution").val(stockPhoto.get_attribution_text());},createDialogRow:function(label,prefill,id){var idtext=(id)?'id="'+id+'"':'';return'<div class="stockphoto_dialog_row"><b>'+label+':</b><br><input type="text" readonly '+idtext+' onClick="select()" value="'+prefill+'"/></div>';},share_this:function(ui_mode){var widths,html,dtitle,dl_links,best_fit;stockPhoto.complete_attribution_text=stockPhoto.get_attribution_text();stockPhoto.file_url=$('#file > a').attr('href');if(!stockPhoto.file_url){stockPhoto.file_url=$('#file > div > div > a').attr('href');}if(!stockPhoto.file_url){stockPhoto.file_url=$('div.fullMedia a').attr('href');}if(stockPhoto.file_url){stockPhoto.file_url=location.protocol+stockPhoto.file_url;}stockPhoto.nicetitle=mw.config.get('wgTitle').split('.');stockPhoto.nicetitle.pop();stockPhoto.nicetitle=
stockPhoto.nicetitle.join('.');$.each(stockPhoto.icons_only,function(i,v){var re=new RegExp('\\.'+v+'$','i');if(!mw.config.get('wgPageName').match(re)){return;}stockPhoto.file_icon=stockPhoto.ogg_icon;});stockPhoto.backlink_url=location.protocol+'//commons.wikimedia.org/wiki/'+encodeURIComponent(mw.config.get('wgPageName'));widths=[];try{var pixelStr,widthSearchMatch,imageWidth,power,i;pixelStr=$('.fileInfo').contents().get(0).data;widthSearchMatch=/([0-9 ,.\u00a0]+)\s*×/.exec(pixelStr);imageWidth=parseInt(widthSearchMatch[1].replace(/[ ,.\u00a0]/g,''),10);if(isNaN(imageWidth)){throw new Error('Cannot parse');}power=Math.floor(Math.log(imageWidth)/Math.log(2));for(i=0;i<5;i+=1){widths.push(Math.pow(2,power-i));}widths=widths.reverse();}catch(e){widths=[75,100,120,240,500,640,800,1024];}if(ui_mode===-1){return;}html='';html+=stockPhoto.createDialogRow(stockPhoto.i18n.page_url,stockPhoto.escapeAttribute(stockPhoto.backlink_url));html+=stockPhoto.createDialogRow(stockPhoto.i18n.file_url,
stockPhoto.escapeAttribute(stockPhoto.file_url));html+=stockPhoto.createDialogRow(stockPhoto.i18n.attribution,stockPhoto.escapeAttribute(stockPhoto.complete_attribution_text),'stockphoto_attribution');html+="<input id='stockphoto_attribution_html' onclick='stockPhoto.refresh_attribution()' type='checkbox' /><label for='stockphoto_attribution_html'>"+stockPhoto.i18n.html+"</label>";if(stockPhoto.gfdl_note){html+='<br/><span class="stockphoto_note">'+stockPhoto.i18n.gfdl_warning+'</span>';}if(!stockPhoto.attrRequired){html+='<br/><span class="stockphoto_note">'+stockPhoto.i18n.no_attr+'</span>';}switch(ui_mode){case 1:dtitle=stockPhoto.i18n.download_this_file;if(stockPhoto.file_url!==undefined){html+='<div><b>'+stockPhoto.i18n.download_image_file+':</b><br>';dl_links=[];$.each(widths,function(i,v){if(stockPhoto.file_icon!==undefined){return;}dl_links.push('<a href="'+stockPhoto.stockphoto_get_thumbnail_url(v)+'" download>'+v+'px</a>');});if(stockPhoto.file_url){dl_links.push('<a href="'+
stockPhoto.file_url+'" download>'+stockPhoto.i18n.full_resolution+'</a>');}if(dl_links.length){html+=dl_links.join(' | ');}else{html+='<i>'+stockPhoto.i18n.not_available+'</i>';}html+='</div>';}break;case 2:dtitle=stockPhoto.i18n.use_this_file_web;html+="<div class='stockphoto_dialog_row'><div style='float:right'>";html+="<input type='radio' name='stockphoto_code_type' value='html' id='stockphoto_code_type_html' onchange='stockPhoto.make_html_textarea();' checked /><label for='stockphoto_code_type_html'>"+stockPhoto.i18n.html+"</label> ";html+="<input type='radio' name='stockphoto_code_type' value='bbcode' id='stockphoto_code_type_bbcode' onchange='stockPhoto.make_html_textarea();' /><label for='stockphoto_code_type_bbcode'>"+stockPhoto.i18n.bbcode+"</label> ";html+='<select id="stockphoto_html_select" onchange="stockPhoto.make_html_textarea();">';best_fit=75;if(stockPhoto.file_icon!==undefined){best_fit=120;html+="<option value='120'>120"+stockPhoto.i18n.px_wide_icon+"</option>";}else
{$.each(widths,function(i,v){if(v<=$('#file img').width()){best_fit=v;}html+="<option value='"+v+"'>"+v+stockPhoto.i18n.px_wide+"</option>";});}html+='</select></div>';html+='<b>'+stockPhoto.i18n.html+'/'+stockPhoto.i18n.bbcode+':</b><textarea onClick="select()" id="stockphoto_html" readonly="readonly" style="font-size:9pt">';html+='</textarea></div>';break;case 3:dtitle=stockPhoto.i18n.use_this_file_wiki;html=stockPhoto.createDialogRow(stockPhoto.i18n.thumbnail,stockPhoto.escapeAttribute('[[File:'+mw.config.get('wgTitle')+'|thumb|'+stockPhoto.nicetitle+']]'));html+=stockPhoto.createDialogRow(stockPhoto.i18n.image,stockPhoto.escapeAttribute('[[File:'+mw.config.get('wgTitle')+'|'+stockPhoto.nicetitle+']]'));break;}$('<div style="display: none" id="stockphoto_dialog"></div>').html(html).dialog({modal:true,width:610,height:"auto",title:dtitle,close:function(){$(this).remove();}});$('#stockphoto_html_select').val(best_fit);stockPhoto.make_html_textarea();$('#stockphoto_attribution_html').
prev().css('width','90%');},call_download:function(){stockPhoto.share_this(1);},call_web:function(){stockPhoto.share_this(2);},call_wiki:function(){stockPhoto.share_this(3);},call_help:function(){window.location.href=mw.util.wikiGetlink(stockPhoto.i18n.reusing_content_url);},send_email:function(){var url='mailto:?subject='+encodeURIComponent(stockPhoto.nicetitle)+"&body="+encodeURIComponent(stockPhoto.backlink_url+"\n\n"+stockPhoto.complete_attribution_text+' '+stockPhoto.i18n.from_wikimedia_commons);window.location.href=url;},escapeAttribute:function(s){if(s===undefined){return'';}return s.replace(/\n/g,' ').replace(/\r/g,' ').replace(/"/g,'&quot;').replace(/'/g,'&#039;');},i18n:{reuse:'Reuse this file',download:'Download',download_this_file:'Download this file',use_this_file_web:'Use this file on the web',use_this_file_web_short:'Use this file',use_this_file_wiki:'Use this file on a wiki',use_this_file_wiki_short:'Use this file',email_link_short:'Email a link',information:
'Information',remove_icons:'Remove these icons',all_sizes:'all sizes',on_a_website:'on the web',on_a_wiki:'on a wiki',to_this_file:'to this file',about_reusing:'about reusing',look_what_i_found:'Look what I found on Wikimedia Commons : ',from_wikimedia_commons:'from Wikimedia Commons',via_wikimedia_commons:'via Wikimedia Commons',by:'by',by_u:'By',see_page_for_author:'See page for author',see_page_for_license:'see page for license',page_url:'Page URL',file_url:'File URL',attribution:'Attribution',no_attr:'Attribution not legally required',or:'or',gfdl_warning:'Using this file might require attaching a full copy of the <a href="//en.wikipedia.org/wiki/GNU_Free_Documentation_License">GFDL</a>',download_image_file:'Download image file',full_resolution:'Full resolution',not_available:'not available',share_this_file:'Share this file',html:'HTML',bbcode:'BBCode',px_wide_icon:'px wide (icon)',px_wide:'px wide',wikipedia_instant_commons:'Wikimedia/InstantCommons',thumbnail:'Thumbnail',image:
'Image',reusing_content_url:'Commons:Reusing_content_outside_Wikimedia'}};window.stockPhoto=stockPhoto;if(mw.config.get('wgUserLanguage')!=='en'){$.ajax({url:mw.util.wikiScript(),dataType:'script',data:{title:'MediaWiki:Gadget-Stockphoto.js/'+mw.config.get('wgUserLanguage'),action:'raw',ctype:'text/javascript',maxage:2419200,smaxage:2419200},cache:true,success:stockPhoto.init});}else{$(document).ready(stockPhoto.init);}}}(jQuery,mediaWiki));;},{"css":[
"div#stockphoto_base.vertical{min-width:160px;position:absolute}a#stockphoto_remove{cursor:pointer;margin-left:10px}.stockphoto_buttonrow_text{vertical-align:middle;display:inline-block;text-align:center}div#stockphoto_base.horizontal #stockphoto_social_bookmarks{text-align:center;width:100%;margin-bottom:10px}div#stockphoto_base.vertical#stockphoto_social_bookmarks{display:inline-block;text-align:center;margin-bottom:10px}span.stockphoto_social_icon{padding-right:2px}div.stockphoto_dialog_row{margin-bottom:5px;width:99%;display:inline-block}div.stockphoto_dialog_row input[type=text]{width:99%}div.stockphoto_dialog_row textarea{width:99%;min-height:80px}span.stockphoto_note{display:block;margin-top:-5px;margin-bottom:15px;font-style:italic;font-size:smaller}.vertical .stockphoto_buttonrow_icon{margin:0 10px 10px;display:inline-block}.horizontal .stockphoto_buttonrow_icon{margin-left:10px}.vertical \u003E span{display:block}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:6ad2071283eecfa81135de891b4edd4c */"
]},{});mw.loader.implement("ext.gadget.UploadWizard",function(){(function($,mw){"use strict";var excludedLanguages=['de'];function doReplacement(){if($.inArray(mw.config.get('wgUserLanguage'),excludedLanguages)===-1){var $upWizLink=$('#n-uploadbtn,#n-upload');if($upWizLink.find('a').length)$upWizLink=$upWizLink.find('a');$upWizLink.attr('href',mw.util.wikiGetlink('Special:UploadWizard'));}}doReplacement();}(jQuery,mediaWiki));;},{},{});mw.loader.implement("ext.gadget.WikiMiniAtlas",function(){mw.loader.load('//meta.wikimedia.org/w/index.php?title=MediaWiki:Wikiminiatlas.js&action=raw&ctype=text/javascript&smaxage=21600&maxage=86400');;},{},{});mw.loader.implement("ext.gadget.ZoomViewer",function(){if(mw.config.get('wgNamespaceNumber')===6&&mw.config.get('wgAction')==='view'&&!mw.util.getParamValue('diff')){$(document).ready(function(){'use strict';var m,fileInfo=$(".fileInfo");if(!fileInfo){return;}else{var pixel_filter=/([\d,\.\']+) × ([\d,\.\']+) [Pp][íi](?:[kc]s|x)el[ei]?s?/;if(m=
pixel_filter.exec(fileInfo.text())){var p=parseInt(m[1].replace(/[,\.\']/g,''),10)*parseInt(m[2].replace(/[,\.]/g,''),10);if(p<2*1024*1024)return;}var links=$("<span>",{id:"ZoomViewerLinks",style:"white-space:nowrap; display:inline-block;"});var fileName=mw.config.get('wgPageName').match(/File:(.+\.jpe?g)/i);if(!fileName){return;}var url="//toolserver.org/~dschwen/iip/wip.php?f="+encodeURIComponent(fileName[1]);var link=$("<a>",{href:url,text:"flash"});var linkNoFlash=$("<a>",{href:url+"&flash=no",text:"no flash"});links.append("; ZoomViewer: ",link,"/",linkNoFlash);fileInfo.after(links);}});};},{},{});mw.loader.implement("ext.gadget.libCommons",function(){(function($,mw){"use strict";if(!mw.libs.commons)mw.libs.commons={};var lc=mw.libs.commons;$.extend(mw.libs.commons,{fixDoubleEncoding:function(s){if(!s)return s;var utf8=/[u00C2-u00F4][u0080-u00BF][u0080-u00BF]?[u0080-u00BF]?/g;if(!utf8.test(s))return s;var temp="",curr=0,m,hex_digit="0123456789ABCDEF";var str=s.replace(/%/g,'%25');
utf8.lastIndex=0;try{while((m=utf8.exec(str))!==null){temp+=str.substring(curr,m.index);m=m[0];for(var i=0;i<m.length;i++){temp+='%'+hex_digit.charAt(m.charCodeAt(i)/16)+hex_digit.charAt(m.charCodeAt(i)%16);}curr=utf8.lastIndex;}if(curr<str.length)temp+=str.substring(curr);temp=decodeURIComponent(temp);return temp;}catch(e){}return s;},smallChangesBots:['FlickreviewR','Rotatebot','Cropbot','Picasa Review Bot','Reedy RotateBot','OgreBot'],isSmallChangesBot:function(name){return($.inArray(name,lc.smallChangesBots)>-1);},getUploadBotUser:function(bot,content,comment,firstTextRevisionUser){var match;switch(bot){case'Upload Bot (Rich Smith)':case'File Upload Bot (Magnus Manske)':match=/^[Tt]ransferr?e?d from .+? by \[\[User:([^\]\|]*)(\|([^\]]*))?\]\] using/.exec(comment);var reOldCH=/[Tt]ransferred to Commons by \[\[User:([^\]\|]+)(?:\|(?:[^\]]*))?\]\] using/;if(!match)match=reOldCH.exec(comment);if(!match)match=reOldCH.exec(content);if(!match)match=
/\{\{transferred from\|[^\}\|]+\|([^\}\|]+)\|[^\}\|]+\}\}/.exec(content);var oldGeograph=/geograph.org.uk\]; transferr?e?d by \[\[User:([^\]\|]+)(?:\|(?:[^\]]*))?\]\] using/;if(!match)match=oldGeograph.exec(comment);if(!match)match=oldGeograph.exec(content);if(!match)match=/\* Uploaded by \[\[User:([^\]\|]+)\|(?:(?:[^\]]*))?/.exec(comment);if(!match)match=/\* Uploaded by \[\[User:([^\]\|]+)(?:\|(?:[^\]]*))?\]\]/.exec(content);if(match)match=match[1];match=lc.fixDoubleEncoding(match);break;case'FlickrLickr':match=/\n\|reviewer=\s*(.+)\n/.exec(content);if(match)match=match[1];break;case'Flickr upload bot':match=/\{\{User:Flickr upload bot\/upload(?:-pd)?(?:\|[^\|\}]*)?\|reviewer=([^\}]+)\}\}/.exec(content);if(match)match=match[1];if(!match)match=firstTextRevisionUser;break;default:return bot;}if(match){match=match.replace(/^[\s_]+/,'').replace(/[\s_]+$/,'').replace(/[\s_]+/g,' ');match=match.substr(0,1).toUpperCase()+match.substr(1);bot=match;}return bot;}});}(jQuery,mediaWiki));;},{},{}
);mw.loader.implement("ext.gadget.libJQuery",function(){(function($,mw){"use strict";$.extend({createIcon:function(iconClass){return $('<span>',{'class':'ui-icon '+iconClass+' jquery-inline-icon',text:' '});},createNotifyArea:function(textNode,icon,state){return $('<div>',{'class':'ui-widget'}).append($('<div>',{'class':state+' ui-corner-all',style:'margin-top:20px; padding:0.7em;'}).append($('<p>').append($.createIcon(icon).css('margin-right','.3em'),textNode)));}});mw.messages.set({'libjq-cancel-title':"Close this dialog [Esc]",'libjq-proceed-title':"Proceed [Enter] in single-line text fields",'libjq-report-title':"Reporting errors helps improving the application"});var buttonConfig={proceed:{'icon':'ui-icon-circle-check','class':'ui-button-green','title':'libjq-proceed-title'},cancel:{'icon':'ui-icon-circle-close','class':'ui-button-red','title':'libjq-cancel-title'},report:{'icon':'ui-icon-circle-check','class':'','title':'libjq-report-title'}};$.extend($.fn,{specialButton:function
(which){return(function($btn,cfg){return $btn.button({icons:{primary:cfg.icon}}).addClass(cfg['class']).attr('title',mw.msg(cfg.title));}(this,buttonConfig[which]));}});}(jQuery,mediaWiki));;},{"css":[".jquery-inline-icon{display:inline-block !important;position:relative;top:2px}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:1123be0e965ccc7cd5ab48b80a7e1bfe */"]},{});mw.loader.implement("ext.gadget.libUtil",function(){(function($,mw){"use strict";if(!mw.libs.commons)mw.libs.commons={};var lc=mw.libs.commons;$.extend(mw.libs.commons,{guessUser:function(){switch(mw.config.get('wgNamespaceNumber')){case 3:case 2:return mw.config.get('wgPageName').match(/.*?\:(.*?)(\/.*)*$/)[1];case-1:try{switch(mw.config.get('wgCanonicalSpecialPageName')){case'Contributions':case'DeletedContributions':case'Block':case'CentralAuth':if(/Special\:(?:DeletedContributions|Contributions|Block|CentralAuth)\//.test(location.href)){return decodeURI(location.href.match(
/Special\:(?:DeletedContributions|Contributions|Block|CentralAuth)\/(.*?)(?:&.*)?$/)[1]);}else if(-1!==location.href.indexOf(mw.config.get('wgScript'))){return mw.util.getParamValue('target');}break;case'Userrights':case'Listfiles':case'Log':if(mw.util.getParamValue('user')){return mw.util.getParamValue('user');}if(mw.util.getParamValue('page')){if(/User:+./.test(mw.util.getParamValue('page'))){return mw.util.getParamValue('page').replace("User:","");}}if(/Special\:(?:Log|ListFiles|UserRights)\//.test(location.href)){return decodeURI(location.href.match(/Special\:(?:Log|ListFiles|UserRights)\/(.*?)(?:&.*)?$/)[1]);}break;}}catch(ex){}break;}},monthNamesInSiteLang:['January','February','March','April','May','June','July','August','September','October','November','December'],formatDate:function(fmt,date,fallbackDate){var pad0=function(s){s=""+s;return(s.length>1?s:"0"+s);};date=date||fallbackDate||new Date();fmt=fmt.replace(/YYYY/g,date.getUTCFullYear());fmt=fmt.replace(/MM/g,pad0(date.
getUTCMonth()+1));fmt=fmt.replace(/DD/g,pad0(date.getUTCDate()));fmt=fmt.replace(/MON/g,lc.monthNamesInSiteLang[date.getUTCMonth()]);fmt=fmt.replace(/DAY/g,date.getUTCDate());return fmt;},titleFromImgSrc:function(src){try{return decodeURIComponent(src).match(/\/[a-f0-9]\/[a-f0-9]{2}\/(\S+\.\S{2,5})\//)[1].replace(/_/g,' ');}catch(ex){try{return decodeURIComponent(src).match(/thumb\.php.*(?:\?|\&)f=(\S+\.\S{2,5})(?:\&.+)?$/)[1].replace(/_/g,' ');}catch(ex2){try{return decodeURIComponent(src).match(/\/[a-f0-9]\/[a-f0-9]{2}\/(\S+\.\S{2,5})$/)[1].replace(/_/g,' ');}catch(ex3){}}}}});}(jQuery,mediaWiki));;},{},{});mw.loader.implement("jquery.autoEllipsis",function(){(function($){var cache={},matchTextCache={};$.fn.autoEllipsis=function(options){options=$.extend({position:'center',tooltip:false,restoreText:false,hasSpan:false,matchText:null},options);return this.each(function(){var $trimmableText,text,trimmableText,w,pw,l,r,i,side,m,$container=$(this);if(options.restoreText){if(!$container.
data('autoEllipsis.originalText')){$container.data('autoEllipsis.originalText',$container.text());}else{$container.text($container.data('autoEllipsis.originalText'));}}if(options.hasSpan){$trimmableText=$container.children(options.selector);}else{$trimmableText=$('<span>').css('whiteSpace','nowrap').text($container.text());$container.empty().append($trimmableText);}text=$container.text();trimmableText=$trimmableText.text();w=$container.width();pw=0;if(options.matchText){if(!(text in matchTextCache)){matchTextCache[text]={};}if(!(options.matchText in matchTextCache[text])){matchTextCache[text][options.matchText]={};}if(!(w in matchTextCache[text][options.matchText])){matchTextCache[text][options.matchText][w]={};}if(options.position in matchTextCache[text][options.matchText][w]){$container.html(matchTextCache[text][options.matchText][w][options.position]);if(options.tooltip){$container.attr('title',text);}return;}}else{if(!(text in cache)){cache[text]={};}if(!(w in cache[text])){cache[
text][w]={};}if(options.position in cache[text][w]){$container.html(cache[text][w][options.position]);if(options.tooltip){$container.attr('title',text);}return;}}if($trimmableText.width()+pw>w){switch(options.position){case'right':l=0;r=trimmableText.length;do{m=Math.ceil((l+r)/2);$trimmableText.text(trimmableText.substr(0,m)+'...');if($trimmableText.width()+pw>w){r=m-1;}else{l=m;}}while(l<r);$trimmableText.text(trimmableText.substr(0,l)+'...');break;case'center':i=[Math.round(trimmableText.length/2),Math.round(trimmableText.length/2)];side=1;while($trimmableText.outerWidth()+pw>w&&i[0]>0){$trimmableText.text(trimmableText.substr(0,i[0])+'...'+trimmableText.substr(i[1]));if(side===0){i[0]--;side=1;}else{i[1]++;side=0;}}break;case'left':r=0;while($trimmableText.outerWidth()+pw>w&&r<trimmableText.length){$trimmableText.text('...'+trimmableText.substr(r));r++;}break;}}if(options.tooltip){$container.attr('title',text);}if(options.matchText){$container.highlightText(options.matchText);
matchTextCache[text][options.matchText][w][options.position]=$container.html();}else{cache[text][w][options.position]=$container.html();}});};}(jQuery));;},{},{});mw.loader.implement("jquery.checkboxShiftClick",function(){(function($){$.fn.checkboxShiftClick=function(){var prevCheckbox=null,$box=this;$box.click(function(e){if(prevCheckbox!==null&&e.shiftKey){$box.slice(Math.min($box.index(prevCheckbox),$box.index(e.target)),Math.max($box.index(prevCheckbox),$box.index(e.target))+1).prop('checked',!!e.target.checked);}prevCheckbox=e.target;});return $box;};}(jQuery));;},{},{});mw.loader.implement("jquery.delayedBind",function(){(function($){function encodeEvent(event){return event.replace(/-/g,'--').replace(/ /g,'-');}$.fn.extend({delayedBind:function(timeout,event,data,callback){if(arguments.length===3){callback=data;data=undefined;}var encEvent=encodeEvent(event);return this.each(function(){var that=this;if(!($(this).data('_delayedBindBound-'+encEvent+'-'+timeout))){$(this).data(
'_delayedBindBound-'+encEvent+'-'+timeout,true);$(this).bind(event,function(){var timerID=$(this).data('_delayedBindTimerID-'+encEvent+'-'+timeout);if(timerID!==null){clearTimeout(timerID);}timerID=setTimeout(function(){$(that).trigger('_delayedBind-'+encEvent+'-'+timeout);},timeout);$(this).data('_delayedBindTimerID-'+encEvent+'-'+timeout,timerID);});}$(this).bind('_delayedBind-'+encEvent+'-'+timeout,data,callback);});},delayedBindCancel:function(timeout,event){var encEvent=encodeEvent(event);return this.each(function(){var timerID=$(this).data('_delayedBindTimerID-'+encEvent+'-'+timeout);if(timerID!==null){clearTimeout(timerID);}});},delayedBindUnbind:function(timeout,event,callback){var encEvent=encodeEvent(event);return this.each(function(){$(this).unbind('_delayedBind-'+encEvent+'-'+timeout,callback);});}});}(jQuery));;},{},{});mw.loader.implement("jquery.hidpi",function(){(function($){$.devicePixelRatio=function(){if(window.devicePixelRatio!==undefined){return window.
devicePixelRatio;}else if(window.msMatchMedia!==undefined){if(window.msMatchMedia('(min-resolution: 192dpi)').matches){return 2;}else if(window.msMatchMedia('(min-resolution: 144dpi)').matches){return 1.5;}else{return 1;}}else{return 1;}};$.fn.hidpi=function(){var $target=this,devicePixelRatio=$.devicePixelRatio(),testImage=new Image();if(devicePixelRatio>1&&testImage.srcset===undefined){$target.find('img').each(function(){var $img=$(this),srcset=$img.attr('srcset'),match;if(typeof srcset==='string'&&srcset!==''){match=$.matchSrcSet(devicePixelRatio,srcset);if(match!==null){$img.attr('src',match);}}});}return $target;};$.matchSrcSet=function(devicePixelRatio,srcset){var candidates,candidate,bits,src,i,ratioStr,ratio,selectedRatio=1,selectedSrc=null;candidates=srcset.split(/ *, */);for(i=0;i<candidates.length;i++){candidate=candidates[i];bits=candidate.split(/ +/);src=bits[0];if(bits.length>1&&bits[1].charAt(bits[1].length-1)==='x'){ratioStr=bits[1].substr(0,bits[1].length-1);ratio=
parseFloat(ratioStr);if(ratio<=devicePixelRatio&&ratio>selectedRatio){selectedRatio=ratio;selectedSrc=src;}}}return selectedSrc;};}(jQuery));;},{},{});mw.loader.implement("jquery.highlightText",function(){(function($){$.highlightText={splitAndHighlight:function(node,pat){var i,patArray=pat.split(' ');for(i=0;i<patArray.length;i++){if(patArray[i].length===0){continue;}$.highlightText.innerHighlight(node,patArray[i]);}return node;},innerHighlight:function(node,pat){var i,match,pos,spannode,middlebit,middleclone;if(node.nodeType===3){match=node.data.match(new RegExp('(^|\\s)'+$.escapeRE(pat),'i'));if(match){pos=match.index+match[1].length;spannode=document.createElement('span');spannode.className='highlight';middlebit=node.splitText(pos);middlebit.splitText(pat.length);middleclone=middlebit.cloneNode(true);spannode.appendChild(middleclone);middlebit.parentNode.replaceChild(spannode,middlebit);}}else if(node.nodeType===1&&node.childNodes&&!/(script|style)/i.test(node.tagName)&&!(node.
tagName.toLowerCase()==='span'&&node.className.match(/\bhighlight/))){for(i=0;i<node.childNodes.length;++i){$.highlightText.innerHighlight(node.childNodes[i],pat);}}}};$.fn.highlightText=function(matchString){return this.each(function(){var $el=$(this);$el.data('highlightText',{originalText:$el.text()});$.highlightText.splitAndHighlight(this,matchString);});};}(jQuery));;},{},{});mw.loader.implement("jquery.json",function(){(function($){'use strict';var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},hasOwn=Object.prototype.hasOwnProperty;$.toJSON=typeof JSON==='object'&&JSON.stringify?JSON.stringify:function(o){if(o===null){return'null';}var pairs,k,name,val,type=$.type(o);if(type==='undefined'){return undefined;}if(type==='number'||type==='boolean'){return String(o);}if(type==='string'){return $.quoteString(o);}if(typeof o.toJSON==='function'){return $.toJSON(o.toJSON());}if(type==='date'){var month=o.getUTCMonth()
+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month='0'+month;}if(day<10){day='0'+day;}if(hours<10){hours='0'+hours;}if(minutes<10){minutes='0'+minutes;}if(seconds<10){seconds='0'+seconds;}if(milli<100){milli='0'+milli;}if(milli<10){milli='0'+milli;}return'"'+year+'-'+month+'-'+day+'T'+hours+':'+minutes+':'+seconds+'.'+milli+'Z"';}pairs=[];if($.isArray(o)){for(k=0;k<o.length;k++){pairs.push($.toJSON(o[k])||'null');}return'['+pairs.join(',')+']';}if(typeof o==='object'){for(k in o){if(hasOwn.call(o,k)){type=typeof k;if(type==='number'){name='"'+k+'"';}else if(type==='string'){name=$.quoteString(k);}else{continue;}type=typeof o[k];if(type!=='function'&&type!=='undefined'){val=$.toJSON(o[k]);pairs.push(name+':'+val);}}}return'{'+pairs.join(',')+'}';}};$.evalJSON=typeof JSON==='object'&&JSON.parse?JSON.parse:function(str){return eval('('+str+')');};$.secureEvalJSON=typeof JSON
==='object'&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered)){return eval('('+str+')');}throw new SyntaxError('Error parsing JSON, source is not valid.');};$.quoteString=function(str){if(str.match(escape)){return'"'+str.replace(escape,function(a){var c=meta[a];if(typeof c==='string'){return c;}c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}return'"'+str+'"';};}(jQuery));;},{},{});mw.loader.implement("jquery.makeCollapsible",function(){(function($,mw){var lpx='jquery.makeCollapsible> ';function toggleElement($collapsible,action,$defaultToggle,options){var $collapsibleContent,$containers,hookCallback;options=options||{};if(!$collapsible.jquery){return;}if(action!=='expand'&&action!=='collapse'){return;}if($defaultToggle===undefined){$defaultToggle=null;}if(
$defaultToggle!==null&&!$defaultToggle.jquery){return;}$collapsible.trigger(action==='expand'?'beforeExpand.mw-collapsible':'beforeCollapse.mw-collapsible');hookCallback=function(){$collapsible.trigger(action==='expand'?'afterExpand.mw-collapsible':'afterCollapse.mw-collapsible');};if(!options.plainMode&&$collapsible.is('table')){$containers=$collapsible.find('> tbody > tr');if($defaultToggle){$containers=$containers.not($defaultToggle.closest('tr'));}if(action==='collapse'){if(options.instantHide){$containers.hide();hookCallback();}else{$containers.stop(true,true).fadeOut(hookCallback);}}else{$containers.stop(true,true).fadeIn(hookCallback);}}else if(!options.plainMode&&($collapsible.is('ul')||$collapsible.is('ol'))){$containers=$collapsible.find('> li');if($defaultToggle){$containers=$containers.not($defaultToggle.parent());}if(action==='collapse'){if(options.instantHide){$containers.hide();hookCallback();}else{$containers.stop(true,true).slideUp(hookCallback);}}else{$containers.stop
(true,true).slideDown(hookCallback);}}else{$collapsibleContent=$collapsible.find('> .mw-collapsible-content');if(!options.plainMode&&$collapsibleContent.length){if(action==='collapse'){if(options.instantHide){$collapsibleContent.hide();hookCallback();}else{$collapsibleContent.slideUp(hookCallback);}}else{$collapsibleContent.slideDown(hookCallback);}}else{if(action==='collapse'){if(options.instantHide){$collapsible.hide();hookCallback();}else{if($collapsible.is('tr')||$collapsible.is('td')||$collapsible.is('th')){$collapsible.fadeOut(hookCallback);}else{$collapsible.slideUp(hookCallback);}}}else{if($collapsible.is('tr')||$collapsible.is('td')||$collapsible.is('th')){$collapsible.fadeIn(hookCallback);}else{$collapsible.slideDown(hookCallback);}}}}}function togglingHandler($toggle,$collapsible,e,options){var wasCollapsed,$textContainer,collapseText,expandText;if(options===undefined){options={};}if(e){if(options.linksPassthru&&$.nodeName(e.target,'a')){return;}else{e.preventDefault();e.
stopPropagation();}}wasCollapsed=$collapsible.hasClass('mw-collapsed');$collapsible.toggleClass('mw-collapsed',!wasCollapsed);if(options.toggleClasses){$toggle.toggleClass('mw-collapsible-toggle-collapsed',!wasCollapsed).toggleClass('mw-collapsible-toggle-expanded',wasCollapsed);}if(options.toggleText){collapseText=options.toggleText.collapseText;expandText=options.toggleText.expandText;$textContainer=$toggle.find('> a');if(!$textContainer.length){$textContainer=$toggle;}$textContainer.text(wasCollapsed?collapseText:expandText);}toggleElement($collapsible,wasCollapsed?'expand':'collapse',$toggle,options);}function toggleLinkDefault($that,e,options){var $collapsible=$that.closest('.mw-collapsible');options=$.extend({toggleClasses:true},options);togglingHandler($that,$collapsible,e,options);}function toggleLinkPremade($that,e,options){var $collapsible=$that.eq(0).closest('.mw-collapsible');options=$.extend({toggleClasses:true},options);togglingHandler($that,$collapsible,e,options);}
function toggleLinkCustom($that,e,options,$collapsible){options=$.extend({linksPassthru:true},options);togglingHandler($that,$collapsible,e,options);}$.fn.makeCollapsible=function(options){return this.each(function(){var $collapsible,collapsetext,expandtext,$toggle,$toggleLink,$firstItem,collapsibleId,$customTogglers,firstval;if(options===undefined){options={};}$collapsible=$(this).addClass('mw-collapsible');if($collapsible.data('mw-made-collapsible')){return;}else{$collapsible.data('mw-made-collapsible',true);}collapsetext=options.collapseText||$collapsible.attr('data-collapsetext')||mw.msg('collapsible-collapse');expandtext=options.expandText||$collapsible.attr('data-expandtext')||mw.msg('collapsible-expand');$toggleLink=$('<a href="#"></a>').text(collapsetext).wrap('<span class="mw-collapsible-toggle"></span>').parent().prepend('&nbsp;[').append(']&nbsp;').on('click.mw-collapsible',function(e,opts){opts=$.extend({toggleText:{collapseText:collapsetext,expandText:expandtext}},options,
opts);toggleLinkDefault($(this),e,opts);});if(options.$customTogglers){$customTogglers=$(options.$customTogglers);}else{collapsibleId=$collapsible.attr('id')||'';if(collapsibleId.indexOf('mw-customcollapsible-')===0){mw.log(lpx+'Found custom collapsible: #'+collapsibleId);$customTogglers=$('.'+collapsibleId.replace('mw-customcollapsible','mw-customtoggle'));if(!$customTogglers.length){mw.log(lpx+'#'+collapsibleId+': Missing toggler!');}}}if($customTogglers&&$customTogglers.length){$customTogglers.on('click.mw-collapsible',function(e,opts){opts=$.extend({},options,opts);toggleLinkCustom($(this),e,opts,$collapsible);});if(options.collapsed||$collapsible.hasClass('mw-collapsed')){$collapsible.removeClass('mw-collapsed');toggleLinkCustom($customTogglers,null,$.extend({instantHide:true},options),$collapsible);}}else{if($collapsible.is('table')){$firstItem=$collapsible.find('tr:first th, tr:first td');$toggle=$firstItem.find('> .mw-collapsible-toggle');if(!$toggle.length){$firstItem.eq(-1).
prepend($toggleLink);}else{$toggleLink=$toggle.off('click.mw-collapsible').on('click.mw-collapsible',function(e,opts){opts=$.extend({},options,opts);toggleLinkPremade($toggle,e,opts);});}}else if($collapsible.is('ul')||$collapsible.is('ol')){$firstItem=$collapsible.find('li:first');$toggle=$firstItem.find('> .mw-collapsible-toggle');if(!$toggle.length){firstval=$firstItem.attr('value');if(firstval===undefined||!firstval||firstval==='-1'||firstval===-1){$firstItem.attr('value','1');}$collapsible.prepend($toggleLink.wrap('<li class="mw-collapsible-toggle-li"></li>').parent());}else{$toggleLink=$toggle.off('click.mw-collapsible').on('click.mw-collapsible',function(e,opts){opts=$.extend({},options,opts);toggleLinkPremade($toggle,e,opts);});}}else{$toggle=$collapsible.find('> .mw-collapsible-toggle');if(!$collapsible.find('> .mw-collapsible-content').length){$collapsible.wrapInner('<div class="mw-collapsible-content"></div>');}if(!$toggle.length){$collapsible.prepend($toggleLink);}else{
$toggleLink=$toggle.off('click.mw-collapsible').on('click.mw-collapsible',function(e,opts){opts=$.extend({},options,opts);toggleLinkPremade($toggle,e,opts);});}}}if((options.collapsed||$collapsible.hasClass('mw-collapsed'))&&(!$customTogglers||!$customTogglers.length)){$collapsible.removeClass('mw-collapsed');$toggleLink.eq(0).trigger('click',[{instantHide:true}]);}});};}(jQuery,mediaWiki));;},{"css":[".mw-collapsible-toggle{float:right} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:4250852ed2349a0d4d0fc6509a3e7d4c */"]},{"collapsible-expand":"Expand","collapsible-collapse":"Collapse"});mw.loader.implement("jquery.mw-jump",function(){jQuery(function($){$('.mw-jump').on('focus blur','a',function(e){if(e.type==='blur'||e.type==='focusout'){$(this).closest('.mw-jump').css({height:0});}else{$(this).closest('.mw-jump').css({height:'auto'});}});});;},{},{});mw.loader.implement(
"jquery.placeholder",function(){(function($){$.fn.placeholder=function(){return this.each(function(){var placeholder,$input;if(this.placeholder&&'placeholder'in document.createElement(this.tagName)){return;}placeholder=this.getAttribute('placeholder');$input=$(this);if(this.value===''||this.value===placeholder){$input.addClass('placeholder').val(placeholder);}$input.blur(function(){if(this.value===''){this.value=placeholder;$input.addClass('placeholder');}}).on('focus drop keydown paste',function(e){if($input.hasClass('placeholder')){if(e.type==='drop'&&e.originalEvent.dataTransfer){try{this.value=e.originalEvent.dataTransfer.getData('text/plain');}catch(exception){this.value=e.originalEvent.dataTransfer.getData('text');}e.preventDefault();}else{this.value='';}$input.removeClass('placeholder');}});if(this.form){$(this.form).submit(function(){if($input.hasClass('placeholder')){$input.val('').removeClass('placeholder');}});}});};}(jQuery));;},{},{});mw.loader.implement(
"jquery.suggestions",function(){(function($){$.suggestions={cancel:function(context){if(context.data.timerID!==null){clearTimeout(context.data.timerID);}if($.isFunction(context.config.cancel)){context.config.cancel.call(context.data.$textbox);}},restore:function(context){context.data.$textbox.val(context.data.prevText);},update:function(context,delayed){function maybeFetch(){if(context.data.$textbox.val().length===0){context.data.$container.hide();context.data.prevText='';}else if(context.data.$textbox.val()!==context.data.prevText||!context.data.$container.is(':visible')){if(typeof context.config.fetch==='function'){context.data.prevText=context.data.$textbox.val();context.config.fetch.call(context.data.$textbox,context.data.$textbox.val());}}}$.suggestions.cancel(context);if(delayed){context.data.timerID=setTimeout(maybeFetch,context.config.delay);}else{maybeFetch();}$.suggestions.special(context);},special:function(context){if(typeof context.config.special.render==='function'){
setTimeout(function(){var $special=context.data.$container.find('.suggestions-special');context.config.special.render.call($special,context.data.$textbox.val(),context);},1);}},configure:function(context,property,value){var newCSS,$autoEllipseMe,$result,$results,childrenWidth,i,expWidth,matchedText,maxWidth,text;switch(property){case'fetch':case'cancel':case'special':case'result':case'$region':case'expandFrom':context.config[property]=value;break;case'suggestions':context.config[property]=value;if(context.data!==undefined){if(context.data.$textbox.val().length===0){context.data.$container.hide();}else{context.data.$container.show();newCSS={top:context.config.$region.offset().top+context.config.$region.outerHeight(),bottom:'auto',width:context.config.$region.outerWidth(),height:'auto'};context.config.expandFrom=(function(expandFrom){var regionWidth,docWidth,regionCenter,docCenter,docDir=$(document.documentElement).css('direction'),$region=context.config.$region;if(context.config.
positionFromLeft){expandFrom='left';}else if($.inArray(expandFrom,['left','right','start','end','auto'])===-1){expandFrom='auto';}if(expandFrom==='auto'){if($region.data('searchsuggest-expand-dir')){expandFrom=$region.data('searchsuggest-expand-dir');}else{regionWidth=$region.outerWidth();docWidth=$(document).width();if((regionWidth/docWidth)>0.85){expandFrom='start';}else{regionCenter=$region.offset().left+regionWidth/2;docCenter=docWidth/2;if(Math.abs(regionCenter-docCenter)/docCenter<0.10){expandFrom='start';}else{expandFrom=regionCenter>docCenter?'right':'left';}}}}if(expandFrom==='start'){expandFrom=docDir==='rtl'?'right':'left';}else if(expandFrom==='end'){expandFrom=docDir==='rtl'?'left':'right';}return expandFrom;}(context.config.expandFrom));if(context.config.expandFrom==='left'){newCSS.left=context.config.$region.offset().left;newCSS.right='auto';}else{newCSS.left='auto';newCSS.right=$('body').width()-(context.config.$region.offset().left+context.config.$region.outerWidth());
}context.data.$container.css(newCSS);$results=context.data.$container.children('.suggestions-results');$results.empty();expWidth=-1;$autoEllipseMe=$([]);matchedText=null;for(i=0;i<context.config.suggestions.length;i++){text=context.config.suggestions[i];$result=$('<div>').addClass('suggestions-result').attr('rel',i).data('text',context.config.suggestions[i]).mousemove(function(){context.data.selectedWithMouse=true;$.suggestions.highlight(context,$(this).closest('.suggestions-results .suggestions-result'),false);}).appendTo($results);if(typeof context.config.result.render==='function'){context.config.result.render.call($result,context.config.suggestions[i],context);}else{$result.append($('<span>').css('whiteSpace','nowrap').text(text));}if(context.config.highlightInput){matchedText=context.data.prevText;}childrenWidth=$result.children().outerWidth();if(childrenWidth>$result.width()&&childrenWidth>expWidth){expWidth=childrenWidth+(context.data.$container.width()-$result.width());}
$autoEllipseMe=$autoEllipseMe.add($result);}if(expWidth>context.data.$container.width()){maxWidth=context.config.maxExpandFactor*context.data.$textbox.width();context.data.$container.width(Math.min(expWidth,maxWidth));}$autoEllipseMe.autoEllipsis({hasSpan:true,tooltip:true,matchText:matchedText});}}break;case'maxRows':context.config[property]=Math.max(1,Math.min(100,value));break;case'delay':context.config[property]=Math.max(0,Math.min(1200,value));break;case'maxExpandFactor':context.config[property]=Math.max(1,value);break;case'submitOnClick':case'positionFromLeft':case'highlightInput':context.config[property]=value?true:false;break;}},highlight:function(context,result,updateTextbox){var selected=context.data.$container.find('.suggestions-result-current');if(!result.get||selected.get(0)!==result.get(0)){if(result==='prev'){if(selected.hasClass('suggestions-special')){result=context.data.$container.find('.suggestions-result:last');}else{result=selected.prev();if(!(result.length&&result
.hasClass('suggestions-result'))){result=selected.parents('.suggestions-results > *').prev().find('.suggestions-result').eq(0);}if(selected.length===0){if(context.data.$container.find('.suggestions-special').html()!==''){result=context.data.$container.find('.suggestions-special');}else{result=context.data.$container.find('.suggestions-results .suggestions-result:last');}}}}else if(result==='next'){if(selected.length===0){result=context.data.$container.find('.suggestions-results .suggestions-result:first');if(result.length===0&&context.data.$container.find('.suggestions-special').html()!==''){result=context.data.$container.find('.suggestions-special');}}else{result=selected.next();if(!(result.length&&result.hasClass('suggestions-result'))){result=selected.parents('.suggestions-results > *').next().find('.suggestions-result').eq(0);}if(selected.hasClass('suggestions-special')){result=$([]);}else if(result.length===0&&context.data.$container.find('.suggestions-special').html()!==''){
result=context.data.$container.find('.suggestions-special');}}}selected.removeClass('suggestions-result-current');result.addClass('suggestions-result-current');}if(updateTextbox){if(result.length===0||result.is('.suggestions-special')){$.suggestions.restore(context);}else{context.data.$textbox.val(result.data('text'));context.data.$textbox.change();}context.data.$textbox.trigger('change');}},keypress:function(e,context,key){var selected,wasVisible=context.data.$container.is(':visible'),preventDefault=false;switch(key){case 40:if(wasVisible){$.suggestions.highlight(context,'next',true);context.data.selectedWithMouse=false;}else{$.suggestions.update(context,false);}preventDefault=true;break;case 38:if(wasVisible){$.suggestions.highlight(context,'prev',true);context.data.selectedWithMouse=false;}preventDefault=wasVisible;break;case 27:context.data.$container.hide();$.suggestions.restore(context);$.suggestions.cancel(context);context.data.$textbox.trigger('change');preventDefault=
wasVisible;break;case 13:context.data.$container.hide();preventDefault=wasVisible;selected=context.data.$container.find('.suggestions-result-current');if(selected.length===0||context.data.selectedWithMouse){$.suggestions.cancel(context);context.config.$region.closest('form').submit();}else if(selected.is('.suggestions-special')){if(typeof context.config.special.select==='function'){context.config.special.select.call(selected,context.data.$textbox);}}else{if(typeof context.config.result.select==='function'){$.suggestions.highlight(context,selected,true);context.config.result.select.call(selected,context.data.$textbox);}else{$.suggestions.highlight(context,selected,true);}}break;default:$.suggestions.update(context,true);break;}if(preventDefault){e.preventDefault();e.stopImmediatePropagation();}}};$.fn.suggestions=function(){var returnValue,args=arguments;$(this).each(function(){var context,key;context=$(this).data('suggestions-context');if(context===undefined||context===null){context={
config:{fetch:function(){},cancel:function(){},special:{},result:{},$region:$(this),suggestions:[],maxRows:7,delay:120,submitOnClick:false,maxExpandFactor:3,expandFrom:'auto',highlightInput:false}};}if(args.length>0){if(typeof args[0]==='object'){for(key in args[0]){$.suggestions.configure(context,key,args[0][key]);}}else if(typeof args[0]==='string'){if(args.length>1){$.suggestions.configure(context,args[0],args[1]);}else if(returnValue===null||returnValue===undefined){returnValue=(args[0]in context.config?undefined:context.config[args[0]]);}}}if(context.data===undefined){context.data={timerID:null,prevText:null,visibleResults:0,mouseDownOn:$([]),$textbox:$(this),selectedWithMouse:false};context.data.$container=$('<div>').css('display','none').addClass('suggestions').append($('<div>').addClass('suggestions-results').mousedown(function(e){context.data.mouseDownOn=$(e.target).closest('.suggestions-results .suggestions-result');}).mouseup(function(e){var $result=$(e.target).closest(
'.suggestions-results .suggestions-result'),$other=context.data.mouseDownOn;context.data.mouseDownOn=$([]);if($result.get(0)!==$other.get(0)){return;}if(!(e.which!==1||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){$.suggestions.highlight(context,$result,true);context.data.$container.hide();if(typeof context.config.result.select==='function'){context.config.result.select.call($result,context.data.$textbox);}}context.data.$textbox.focus();})).append($('<div>').addClass('suggestions-special').mousedown(function(e){context.data.mouseDownOn=$(e.target).closest('.suggestions-special');}).mouseup(function(e){var $special=$(e.target).closest('.suggestions-special'),$other=context.data.mouseDownOn;context.data.mouseDownOn=$([]);if($special.get(0)!==$other.get(0)){return;}if(!(e.which!==1||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){context.data.$container.hide();if(typeof context.config.special.select==='function'){context.config.special.select.call($special,context.data.$textbox);}}context.
data.$textbox.focus();}).mousemove(function(e){context.data.selectedWithMouse=true;$.suggestions.highlight(context,$(e.target).closest('.suggestions-special'),false);})).appendTo($('body'));$(this).attr('autocomplete','off').keydown(function(e){context.data.keypressed=e.which;context.data.keypressedCount=0;switch(context.data.keypressed){case 40:e.preventDefault();e.stopImmediatePropagation();break;case 38:case 27:case 13:if(context.data.$container.is(':visible')){e.preventDefault();e.stopImmediatePropagation();}}}).keypress(function(e){context.data.keypressedCount++;$.suggestions.keypress(e,context,context.data.keypressed);}).keyup(function(e){if(context.data.keypressedCount===0){$.suggestions.keypress(e,context,context.data.keypressed);}}).blur(function(){if(context.data.mouseDownOn.length>0){return;}context.data.$container.hide();$.suggestions.cancel(context);});}$(this).data('suggestions-context',context);});return returnValue!==undefined?returnValue:$(this);};}(jQuery));;},{"css":
[
".suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px -1px 0 0} html \u003E body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.autoellipsis-matched,.highlight{font-weight:bold}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:9780324491b653a3780e2d029bdc140c */"
]},{});mw.loader.implement("jquery.tabIndex",function(){(function($){$.fn.firstTabIndex=function(){var minTabIndex=null;$(this).find('[tabindex]').each(function(){var tabIndex=parseInt($(this).prop('tabindex'),10);if(tabIndex>0&&!isNaN(tabIndex)){if(minTabIndex===null){minTabIndex=tabIndex;}else if(tabIndex<minTabIndex){minTabIndex=tabIndex;}}});return minTabIndex;};$.fn.lastTabIndex=function(){var maxTabIndex=null;$(this).find('[tabindex]').each(function(){var tabIndex=parseInt($(this).prop('tabindex'),10);if(tabIndex>0&&!isNaN(tabIndex)){if(maxTabIndex===null){maxTabIndex=tabIndex;}else if(tabIndex>maxTabIndex){maxTabIndex=tabIndex;}}});return maxTabIndex;};}(jQuery));;},{},{});mw.loader.implement("mediawiki.action.view.metadata",function(){(function(mw,$){$(function(){var $row,$col,$link,showText=mw.msg('metadata-expand'),hideText=mw.msg('metadata-collapse'),$table=$('#mw_metadata'),$tbody=$table.find('tbody');if(!$tbody.length){return;}$row=$(
'<tr class="mw-metadata-show-hide-extended"></tr>');$col=$('<td colspan="2"></td>');$link=$('<a>',{text:showText,href:'#'}).click(function(){if($table.hasClass('collapsed')){$(this).text(hideText);}else{$(this).text(showText);}$table.toggleClass('expanded collapsed');return false;});$col.append($link);$row.append($col);$tbody.append($row);$table.addClass('collapsed');});}(mediaWiki,jQuery));;},{},{"metadata-expand":"Show extended details","metadata-collapse":"Hide extended details"});mw.loader.implement("mediawiki.api",function(){(function(mw,$){var defaultOptions={parameters:{action:'query',format:'json'},ajax:{url:mw.util.wikiScript('api'),timeout:30*1000,dataType:'json'}};mw.Api=function(options){if(options===undefined){options={};}if(options.ajax&&options.ajax.url!==undefined){options.ajax.url=String(options.ajax.url);}options.parameters=$.extend({},defaultOptions.parameters,options.parameters);options.ajax=$.extend({},defaultOptions.ajax,options.ajax);this.defaults=options;};mw.
Api.prototype={normalizeAjaxOptions:function(arg){var opts=arg||{};if(typeof arg==='function'){opts={ok:arg};}return opts;},get:function(parameters,ajaxOptions){ajaxOptions=this.normalizeAjaxOptions(ajaxOptions);ajaxOptions.type='GET';return this.ajax(parameters,ajaxOptions);},post:function(parameters,ajaxOptions){ajaxOptions=this.normalizeAjaxOptions(ajaxOptions);ajaxOptions.type='POST';return this.ajax(parameters,ajaxOptions);},ajax:function(parameters,ajaxOptions){var token,apiDeferred=$.Deferred(),xhr;parameters=$.extend({},this.defaults.parameters,parameters);ajaxOptions=$.extend({},this.defaults.ajax,ajaxOptions);if(parameters.token){token=parameters.token;delete parameters.token;}ajaxOptions.data=$.param(parameters).replace(/\./g,'%2E');if(token){ajaxOptions.data+='&token='+encodeURIComponent(token);}if(ajaxOptions.ok){apiDeferred.done(ajaxOptions.ok);delete ajaxOptions.ok;}if(ajaxOptions.err){apiDeferred.fail(ajaxOptions.err);delete ajaxOptions.err;}xhr=$.ajax(ajaxOptions).fail
(function(xhr,textStatus,exception){apiDeferred.reject('http',{xhr:xhr,textStatus:textStatus,exception:exception});}).done(function(result){if(result===undefined||result===null||result===''){apiDeferred.reject('ok-but-empty','OK response but empty result (check HTTP headers?)');}else if(result.error){var code=result.error.code===undefined?'unknown':result.error.code;apiDeferred.reject(code,result);}else{apiDeferred.resolve(result);}});return apiDeferred.promise({abort:xhr.abort}).fail(function(code,details){mw.log('mw.Api error: ',code,details);});}};mw.Api.errors=['ok-but-empty','timeout','duplicate','duplicate-archive','noimageinfo','uploaddisabled','nomodule','mustbeposted','badaccess-groups','stashfailed','missingresult','missingparam','invalid-file-key','copyuploaddisabled','mustbeloggedin','empty-file','file-too-large','filetype-missing','filetype-banned','filetype-banned-type','filename-tooshort','illegal-filename','verification-error','hookaborted','unknown-error',
'internal-error','overwrite','badtoken','fetchfileerror','fileexists-shared-forbidden','invalidtitle','notloggedin'];mw.Api.warnings=['duplicate','exists'];}(mediaWiki,jQuery));;},{},{});mw.loader.implement("mediawiki.hidpi",function(){jQuery(function($){$('body').hidpi();});;},{},{});mw.loader.implement("mediawiki.searchSuggest",function(){(function(mw,$){$(document).ready(function($){var map,resultRenderCache,searchboxesSelectors,$searchRegion=$('#simpleSearch, #searchInput').first(),$searchInput=$('#searchInput');map={browsers:{ltr:{opera:[['>=',9.6]],docomo:false,blackberry:false,ipod:false,iphone:false},rtl:{opera:[['>=',9.6]],docomo:false,blackberry:false,ipod:false,iphone:false}}};if(!$.client.test(map)){return;}function computeResultRenderCache(context){var $form,formAction,baseHref,linkParams;$form=context.config.$region.closest('form');formAction=$form.attr('action');baseHref=formAction+(formAction.match(/\?/)?'&':'?');linkParams={};$.each($form.serializeArray(),function(idx,
obj){linkParams[obj.name]=obj.value;});return{textParam:context.data.$textbox.attr('name'),linkParams:linkParams,baseHref:baseHref};}function renderFunction(text,context){if(!resultRenderCache){resultRenderCache=computeResultRenderCache(context);}resultRenderCache.linkParams[resultRenderCache.textParam]=text;this.append($('<span>').css('whiteSpace','nowrap').text(text)).wrap($('<a>').attr('href',resultRenderCache.baseHref+$.param(resultRenderCache.linkParams)).addClass('mw-searchSuggest-link'));}function specialRenderFunction(query,context){var $el=this;if(!resultRenderCache){resultRenderCache=computeResultRenderCache(context);}resultRenderCache.linkParams[resultRenderCache.textParam]=query;if($el.children().length===0){$el.append($('<div>').addClass('special-label').text(mw.msg('searchsuggest-containing')),$('<div>').addClass('special-query').text(query).autoEllipsis()).show();}else{$el.find('.special-query').text(query).autoEllipsis();}if($el.parent().hasClass('mw-searchSuggest-link'
)){$el.parent().attr('href',resultRenderCache.baseHref+$.param(resultRenderCache.linkParams)+'&fulltext=1');}else{$el.wrap($('<a>').attr('href',resultRenderCache.baseHref+$.param(resultRenderCache.linkParams)+'&fulltext=1').addClass('mw-searchSuggest-link'));}}searchboxesSelectors=['#searchInput','#searchInput2','#powerSearchText','#searchText','.mw-searchInput'];$(searchboxesSelectors.join(', ')).suggestions({fetch:function(query){var $el,jqXhr;if(query.length!==0){$el=$(this);jqXhr=$.ajax({url:mw.util.wikiScript('api'),data:{format:'json',action:'opensearch',search:query,namespace:0,suggest:''},dataType:'json',success:function(data){if($.isArray(data)&&data.length){$el.suggestions('suggestions',data[1]);}}});$el.data('request',jqXhr);}},cancel:function(){var jqXhr=$(this).data('request');if(jqXhr&&$.isFunction(jqXhr.abort)){jqXhr.abort();$(this).removeData('request');}},result:{render:renderFunction,select:function($input){$input.closest('form').submit();}},delay:120,highlightInput:
true}).bind('paste cut drop',function(){$(this).trigger('keypress');});if($searchRegion.length===0){return;}$searchInput.suggestions({result:{render:renderFunction,select:function($input){$input.closest('form').submit();}},special:{render:specialRenderFunction,select:function($input){$input.closest('form').append($('<input type="hidden" name="fulltext" value="1"/>'));$input.closest('form').submit();}},$region:$searchRegion});$searchInput.data('suggestions-context').data.$container.css('fontSize',$searchInput.css('fontSize'));});}(mediaWiki,jQuery));;},{"css":[
".suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{text-decoration:none;color:black}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:52b1797f70c7e4094dfa4191101944e8 */"]},{"searchsuggest-search":"Search","searchsuggest-containing":"containing..."});mw.loader.implement("mediawiki.user",function(){(function(mw,$){function User(options,tokens){var user,callbacks;user=this;callbacks={};function getUserInfo(info,callback){var api;if(callbacks[info]){callbacks[info].add(callback);return;}callbacks.rights=$.Callbacks('once memory');callbacks.groups=$.Callbacks('once memory');callbacks[info].add(callback);api=new mw.Api();api.get
({action:'query',meta:'userinfo',uiprop:'rights|groups'}).always(function(data){var rights,groups;if(data.query&&data.query.userinfo){rights=data.query.userinfo.rights;groups=data.query.userinfo.groups;}callbacks.rights.fire(rights||[]);callbacks.groups.fire(groups||[]);});}this.options=options||new mw.Map();this.tokens=tokens||new mw.Map();this.generateRandomSessionId=function(){var i,r,id='',seed='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';for(i=0;i<32;i++){r=Math.floor(Math.random()*seed.length);id+=seed.substring(r,r+1);}return id;};this.getName=function(){return mw.config.get('wgUserName');};this.name=function(){return this.getName();};this.getRegistration=function(){var registration=mw.config.get('wgUserRegistration');if(this.isAnon()){return false;}else if(registration===null){return null;}else{return new Date(registration);}};this.isAnon=function(){return user.getName()===null;};this.anonymous=function(){return user.isAnon();};this.sessionId=function(){var
sessionId=$.cookie('mediaWiki.user.sessionId');if(typeof sessionId==='undefined'||sessionId===null){sessionId=user.generateRandomSessionId();$.cookie('mediaWiki.user.sessionId',sessionId,{'expires':null,'path':'/'});}return sessionId;};this.id=function(){var id,name=user.getName();if(name){return name;}id=$.cookie('mediaWiki.user.id');if(typeof id==='undefined'||id===null){id=user.generateRandomSessionId();}$.cookie('mediaWiki.user.id',id,{expires:365,path:'/'});return id;};this.bucket=function(key,options){var cookie,parts,version,bucket,range,k,rand,total;options=$.extend({buckets:{},version:0,expires:30},options||{});cookie=$.cookie('mediaWiki.user.bucket:'+key);if(typeof cookie==='string'&&cookie.length>2&&cookie.indexOf(':')>0){parts=cookie.split(':');if(parts.length>1&&Number(parts[0])===options.version){version=Number(parts[0]);bucket=String(parts[1]);}}if(bucket===undefined){if(!$.isPlainObject(options.buckets)){throw'Invalid buckets error. Object expected for options.buckets.'
;}version=Number(options.version);range=0;for(k in options.buckets){range+=options.buckets[k];}rand=Math.random()*range;total=0;for(k in options.buckets){bucket=k;total+=options.buckets[k];if(total>=rand){break;}}$.cookie('mediaWiki.user.bucket:'+key,version+':'+bucket,{'path':'/','expires':Number(options.expires)});}return bucket;};this.getGroups=function(callback){getUserInfo('groups',callback);};this.getRights=function(callback){getUserInfo('rights',callback);};}mw.user=new User(mw.user.options,mw.user.tokens);}(mediaWiki,jQuery));;},{},{});mw.loader.implement("mediawiki.page.ready",function(){(function(mw,$){$(function(){var $sortableTables;if(!('placeholder'in document.createElement('input'))){$('input[placeholder]').placeholder();}$('.mw-collapsible').makeCollapsible();$sortableTables=$('table.sortable');if($sortableTables.length){mw.loader.using('jquery.tablesorter',function(){$sortableTables.tablesorter();});}$('input[type=checkbox]:not(.noshiftselect)').checkboxShiftClick();mw
.util.updateTooltipAccessKeys();});}(mediaWiki,jQuery));;},{},{});mw.loader.implement("mobile.desktop",function(){(function($){$('.stopMobileRedirectToggle').click(function(){var hostname=mw.config.get('wgMFStopRedirectCookieHost'),path=mw.config.get('wgCookiePath');$.cookie('stopMobileRedirect',null,{path:path,domain:hostname});});})(jQuery);;},{},{});mw.loader.implement("mw.MwEmbedSupport.style",function(){},{"css":[
"#container{position:relative;min-height:100%}#container,video{width:100%;height:100%}#playerContainer{overflow:hidden;position:relative;height:100%;background:#000}#videoHolder{position:relative;overflow:hidden}.fullscreen #playerContainer{position:absolute !important;width:100% !important;height:100%! important;z-index:9999;min-height:100%;top:0;left:0;margin:0}.mwEmbedPlayer{width:100%;height:100%;overflow:hidden;position:absolute;top:0;left:0}.modal_editor{ left:10px;top:10px;right:10px;bottom:10px;position:fixed;z-index:100}.displayHTML a:visited{color:white}.loadingSpinner{width:32px;height:32px;display:block;padding:0px;background-image:url(//bits.wikimedia.org/static-1.22wmf3/extensions/MwEmbedSupport/MwEmbedModules/MwEmbedSupport/skins/common/images/loading_ani.gif?2013-04-29T16:11:40Z)}.mw-imported-resource{border:thin solid black}.kaltura-icon{background-image:url(//bits.wikimedia.org/static-1.22wmf3/extensions/MwEmbedSupport/MwEmbedModules/MwEmbedSupport/skins/common/images/kaltura_logo_sm_transparent.png?2013-04-29T16:11:40Z) !important;background-repeat:no-repeat;display:block;height:12px;width:12px;margin-top:2px !important;margin-left:3px !important}.mw-fullscreen-overlay{background:rgb(0,0,0) none repeat scroll 0% 0%;position:fixed;top:0pt;left:0pt;width:100%;height:100%;-moz-background-clip:border;-moz-background-origin:padding;-moz-background-inline-policy:continuous} .play-btn-large{width:70px;height:53px;background :url(//bits.wikimedia.org/static-1.22wmf3/extensions/MwEmbedSupport/MwEmbedModules/MwEmbedSupport/skins/common/images/player_big_play_button.png?2013-04-29T16:11:40Z);position :absolute;cursor :pointer;border :none !important;z-index :1}.play-btn-large:hover{background :url(//bits.wikimedia.org/static-1.22wmf3/extensions/MwEmbedSupport/MwEmbedModules/MwEmbedSupport/skins/common/images/player_big_play_button_hover.png?2013-04-29T16:11:40Z)}.carouselContainer{position :absolute;width :100%;z-index :2}.carouselVideoTitle{position :absolute;top :0px;left :0px;width :100%;background :rgba(0,0,0,0.8);color :white;font-size :small;font-weight :bold;z-index :2}.carouselVideoTitleText{display :block;padding :10px 10px 10px 20px}.carouselTitleDuration{position :absolute;top :0px;right :0px;padding :2px;background-color :#5A5A5A;color :#D9D9D9;font-size :smaller;z-index :2}.carouselImgTitle{position :absolute;width :100%;text-align :center;color :white;font-size :small;background :rgba(0,0,0,0.4)}.carouselImgDuration{position :absolute;top :2px;left :2px;background :rgba( 0,0,0,0.7 );color :white;padding :1px 6px;font-size :small}.carouselPrevButton,.carouselNextButton{display :block;position :absolute;bottom:23px}.carouselPrevButton{left :5px}.carouselNextButton{right:6px}.alert-container{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;background-image:linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-o-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-moz-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-webkit-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-ms-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-webkit-gradient(linear,left bottom,left top,color-stop(0.04,rgb(215,215,215)),color-stop(0.55,rgb(230,230,230)),color-stop(1,rgb(255,255,255)));margin:auto;position:absolute;top:0;left:0;right:0;bottom:0;max-width:80%;max-height:30%}.alert-title{background-color :#E6E6E6;padding :5px;border-bottom :1px solid #D1D1D1;font-weight :normal !important;font-size:14px !important;-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px;-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px }.alert-message{padding :5px;font-weight :normal !important;text-align:center;font-size:14px !important}.alert-buttons-container{text-align:center;padding-bottom:5px}.alert-button{background-color:#474747;color:white;-webkit-border-radius:.5em;-moz-border-radius:.5em;border-radius:.5em;padding:2px 10px;background-image:linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-o-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-moz-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-webkit-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-ms-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-webkit-gradient( linear,left bottom,left top,color-stop(0.04,rgb(25,25,25)),color-stop(0.55,rgb(47,47,47)),color-stop(0.68,rgb(71,71,71)) )}.alert-text{color :black !important}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:80dcc4b670b51ab33e2366bd13c92801 */"
]},{});mw.loader.implement("mw.PopUpMediaTransform",function(){(function(mw,$){$(document).ready(function(){$('.PopUpMediaTransform a').each(function(){$(this).click(function(event){var $videoContainer=$(unescape($(this).parent().attr('data-videopayload')));mw.addDialog({'width':'auto','height':'auto','title':$videoContainer.find('video,audio').attr('data-mwtitle'),'content':$videoContainer,'close':function(){var domEl=$(this).find('video,audio').get(0);if(domEl&&domEl.pause){domEl.pause();}return true;}}).css('overflow','hidden').find('video,audio').embedPlayer();return false;});});});})(mediaWiki,jQuery);;},{"css":[
".PopUpMediaTransform a .play-btn-large{position :absolute;top:50%;left :50%;width:70px;height:53px;margin-left:-35px;margin-top:-25px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAA1CAMAAADLRm3ZAAABnlBMVEUAAAAAAAAAAABaWlp4eHh7e3t/f393d3eDg4N0dHRtbW2FhYVra2uJiYmNjY1nZ2eRkZFkZGSUlJRiYmKYmJhgYGCcnJxeXl5cXFyfn58AAACioqKlpaWsrKwAAACpqakAAAAAAAAAAAAAAABEREQFBQUHBwdMTEwAAAAYGBgAAAAAAAABAQEXFxcAAAAAAAAAAABxcXGoqKh3d3eampp8fHyIiIgUFBQcHBw0NDSFhYV+fn5FRUUmJiaNjY11dXWPj4+Hh4c9PT14eHifn59nZ2eBgYFISEiBgYFubm5vb28ODg4lJSVra2tiYmJoaGgEBAQmJiZmZmaLi4saGhpiYmKYmJhZWVlgYGBfX19vb29DQ0MGBgZcXFyBgYFKSkoPDw9ZWVlzc3NQUFBXV1eKiopUVFQdHR1VVVUQEBBYWFglJSVTU1NXV1cKCgosLCySkpJRUVFISEgyMjJPT08dHR2GhoY4ODhNTU09PT0MDAwuLi57e3sTExNJSUkgICBOTk4hISEbGxtTU1MoKChBQUEsLCxXV1cAAABycnIdNM6eAAAAinRSTlOzj6jO1dbX1NfU09nS2drR29Hc0N3Q3c/O3gDf3+Ce4EgIGW7HtbXKnLouq7S5cHIq1ODQ3NTXuLq/1tXEvNjT2NjC093N18bW0dC2vNHM0LW90Ne5z9rLzsrTxbXN1Me3zdDKzdfLu8y3zb3Lyba/2svFwcq618PKxLa/1LjJu8q8u8y+xsDKrdJqj5XQAAABYklEQVR4Xu3XVVNCQRjH4VdQEbvFVRAOIRl2d3d3d3d317d2GEaGOOfM1oUXPB/gN7NX/30BIYPeGMPAqDcgBMhrBUZWLwJBAcwcAriBAzfogAMdKIADBUUmmqm64JAxl2m1k/XMmZkin+YaxsxYqd9iA1OmsfDPajVDZqMgoL1jhzpTmR+k/OCQMlObG+L4dJgq050d5rKVJlOXGaHijjxzny6i94k005YqatBFlmlKEdfy1UeS+UmS0tllwc/0JEhT9WNnBuJlqCy4maE4OSO4mdFYOeO4mQm1jCnAzUyXSJqdm8fOLCRKWVomWIaVZHFrLqJlWE8Ts7lFuAzbGZF294iXYT8rnPLICcSZk5xQyjMzzTKc5wXTXFnoluFaE+TmlnYZipUBpgcA5syjjWU1Tf7I8wvbhr/6Im/vTmDLgO3D9Gn+R5+2aIbXzeABDjwgOIDZtwDIzvwsnR1xujV/AS6zSfMs2bS9AAAAAElFTkSuQmCC);background-image:url(//bits.wikimedia.org/static-1.22wmf3/extensions/TimedMediaHandler/resources/player_big_play_button.png?2013-04-29T16:13:20Z)!ie}.PopUpMediaTransform a .play-btn-large :hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAA1CAMAAADLRm3ZAAABtlBMVEUAAAAAAAAAAAC5ubm1tbWwsLC+vr6Li4vExMSrq6umpqbIyMjOzs6ioqLT09OdnZ3Y2NiZmZnc3NyWlpbh4eGSkpLn5+eQkJCNjY0AAADr6+vv7+/z8/P39/cAAAD9/f0AAAAAAAAAAAAAAAB2dnYAAAAoKCj5+flra2sMDAwAAAAAAAAAAAAAAAAAAAACAgLW1tbPz88wMDCHh4fExMS8vLxKSkpubm6vr6+qqqo0NDQQEBDCwsK1tbUmJiaysrLT09PLy8uIiIgXFxetra2+vr7r6+tycnIbGxvMzMyTk5O1tbU8PDyjo6PR0dG0tLQLCwufn58HBwc9PT2bm5shISEqKiqXl5cICAiJiYmTk5Pj4+OoqKhpaWkKCgqOjo5TU1OXl5cYGBiKioo9PT18fHwlJSWGhoYuLi6CgoIvLy+Dg4Ofn5+oqKg7OzuAgIDk5OSLi4tHR0fIyMh9fX3Z2dlycnJPT08JCQl7e3vJyclhYWFZWVl4eHhhYWEUFBS6urpqamofHx9ycnK2trZzc3N6eno1NTUsLCyKioqAgIBBQUFmZmZHR0cICAjBwcEAAACIiIg+YVJpAAAAknRSTlOzj6jt6+ru4O/p5/Hy5vPl9eT24/ji+eHgAPr7/P2e/hlICG7YLr7+07accipwq7Tw777X6erGzuLjv7fs4rzn8PDYuObr+dK57tjqwuTu6rbjtcPiur3htdvg8+jRtt7H3Lndwdi83b7bwNze5cPb9t/G7drz0Mq22e7MzdjPuOrUu9fo1NnCwN/cxdLItu6t3VahkKcAAAFlSURBVHhe7dfFcgJBFIbRGyLEXegIDBAITtzd3d3d3d3d88ZJigqFzExNyyILzgN8Vb36+wJCGrXWj4JWrUEIkMUElEwWBJwMqNk4sAIDVlACA0qQAQMygowv05fNIDNYplKNFFBnmjN+ZU5SZtrTHHJnqTKVqX8KFykyWSlO9auNxJmmZBebOSWEmZ1EN3v73USZ0ngPxyckmbpYL3n5+JnLaB5FxbiZ20heU+V4mYpwflXVNTiZ2jAhHw1G6Zm1YGEtrZIzbUEiOjqlZrr8xfRIzfQGiOmXmhkIFDEEUjPDIYJGx8YlZyZChdxNYyzDTAS/uXmsZViI4rO0jLkMKzHevtaxl2EjztPWth2wM7sJ7uQHhyTLcJTkSnFqJFuGM4WL8wvSZUiXO11dA1BnbvQ0q2lwRO4f6Db88ekn8vxiB7oM6F8Nb+//6NPmy7C6GczAgBk4G1D75ADpqJ+l1CFGt+Y3XGRJEJqP8KwAAAAASUVORK5CYII=);background-image:url(//bits.wikimedia.org/static-1.22wmf3/extensions/TimedMediaHandler/resources/player_big_play_button_hover.png?2013-04-29T16:13:20Z)!ie}.PopUpMediaTransform{position :relative;display:inline-block}li.gallerybox div.thumb div.PopUpMediaTransform{margin:0 auto}\n/* cache key: commonswiki:resourceloader:filter:minify-css:7:03262e694ff2b0f3538197461efa9167 */"
]},{});mw.loader.implement("schema.NavigationTiming",function(){mediaWiki.eventLog.declareSchema("NavigationTiming",{"schema":{"description":"Represents a set of client-side latency measurements provided by NavigationTiming API","properties":{"userAgent":{"type":"string","description":"Browser's user-agent string","required":true},"isAnon":{"type":"boolean","description":"True if the user was anonymous; false if logged in.","required":true},"mobileMode":{"type":"string","enum":["alpha","beta","stable"],"description":"If in mobile view, specifies the mobile mode. Absent otherwise."},"isHttps":{"type":"boolean","description":"True if request was secure (i.e., used HTTPS)."},"redirectCount":{"type":"integer","description":"Number of times the document request was redirected"},"originCountry":{"type":"string","description":"Country in which request originated, based on GeoIP look-up."},"dnsLookup":{"type":"integer","description":
"Time it took to resolve names (domainLookupEnd - domainLookupStart)"},"connecting":{"type":"integer","description":"Time it took to establish a connection to the server (connectEnd - connectStart)"},"sending":{"type":"integer","description":"Time from start of navigation to start of fetch (fetchStart - navigationStart)"},"waiting":{"type":"integer","description":"Time from immediately before browser started request to first byte of response (responseStart - requestStart)"},"redirecting":{"type":"integer","description":"Time spent following redirects"},"receiving":{"type":"integer","description":"Time from first byte of response to last (responseEnd - responseStart)"},"rendering":{"type":"integer","description":"Time from immediately after the last byte was sent to the page fully loading (loadEventEnd - responseEnd)"},"loading":{"type":"integer","description":"Time from start of navigation until just before firing of 'onload' event (loadEventStart - navigationStart)"},"pageId":{"type":
"integer","description":"`page_id` of requested page. Unset for special pages."},"revId":{"type":"integer","description":"Revision ID of requested page. Unset for special pages."},"action":{"type":"string","description":"Value of 'wgAction': view', 'submit', 'history', etc. Unset for special pages."}}},"revision":5336845});},{},{});mw.loader.implement("skins.vector.js",function(){jQuery(function($){$('div.vectorMenu').each(function(){var $el=$(this);$el.find('h3:first a:first').click(function(e){$el.find('.menu:first').toggleClass('menuForceShow');e.preventDefault();}).focus(function(){$el.addClass('vectorMenuFocus');}).blur(function(){$el.removeClass('vectorMenuFocus');});});});;},{},{});
/* cache key: commonswiki:resourceloader:filter:minify-js:7:02ac6cb604497653bc053d66b90abec7 */